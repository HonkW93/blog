<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Gvim-Verilog-Env | Doraemon</title><meta name="description" content="根据网上的资料，在Windows下使用Gvim搭建一个适用于高效Verilog编程的环境，实现很多功能自动化。由于网上资料不全面，且不一定准确，因此记录使用到的所有功能及过程。"><meta name="keywords" content="verilog,gvim,vim"><meta name="author" content="HonkW"><meta name="copyright" content="HonkW"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/doreamon.ico"><link rel="canonical" href="https://honk.wang/posts/Gvim-Verilog-env/"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin="crossorigin"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="preconnect" href="//zz.bdstatic.com"/><meta name="google-site-verification" content="google464c10a523d2ba77.html"/><meta property="og:type" content="article"><meta property="og:title" content="Gvim-Verilog-Env"><meta property="og:url" content="https://honk.wang/posts/Gvim-Verilog-env/"><meta property="og:site_name" content="Doraemon"><meta property="og:description" content="根据网上的资料，在Windows下使用Gvim搭建一个适用于高效Verilog编程的环境，实现很多功能自动化。由于网上资料不全面，且不一定准确，因此记录使用到的所有功能及过程。"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/WangHeng93/Pic@latest/cover/syntastic.jpg"><meta property="article:published_time" content="2020-02-23T11:19:27.000Z"><meta property="article:modified_time" content="2020-08-15T17:37:08.313Z"><meta name="twitter:card" content="summary"><script>var activateDarkMode = function () {
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#000')
  }
}
var activateLightMode = function () {
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#fff')
  }
}

var getCookies = function (name) {
  const value = `; ${document.cookie}`
  const parts = value.split(`; ${name}=`)
  if (parts.length === 2) return parts.pop().split(';').shift()
}

var autoChangeMode = 'false'
var t = getCookies('theme')
if (autoChangeMode === '1') {
  var isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
  var isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
  var isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined) {
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport) {
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour <= 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
    }
    window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
      if (Cookies.get('theme') === undefined) {
        e.matches ? activateDarkMode() : activateLightMode()
      }
    })
  } else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else if (autoChangeMode === '2') {
  now = new Date()
  hour = now.getHours()
  isNight = hour <= 6 || hour >= 18
  if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else {
  if (t === 'dark') activateDarkMode()
  else if (t === 'light') activateLightMode()
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?8b3482f535f0f3103f3e7b518f60ee12";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: {"limitDay":30,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: {"bookmark":{"message_prev":"按","message_next":"键将本页加入书签"},"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-left"},
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  baiduPush: true,
  highlightCopy: true,
  highlightLang: true,
  isPhotoFigcaption: false,
  islazyload: true,
  isanchor: false    
}</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isSidebar: true,
  postUpdate: '2020-08-16 01:37:08'
}</script><noscript><style>
#nav {
  opacity: 1
}
.justified-gallery img {
  opacity: 1
}
</style></noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/WangHeng93/cdn@latest/back-ground/background.css"><meta name="generator" content="Hexo 5.0.0"><link rel="alternate" href="/atom.xml" title="Doraemon" type="application/atom+xml">
</head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" data-lazy-src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">12</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">12</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">8</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home faa-shake animated"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/messages/"><i class="fa-fw far fa-comment-dots faa-shake animated-hover"></i><span> 留言</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa fa-file-alt faa-horizontal animated-hover"></i><span> 文章</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page" href="/statistics/"><i class="fa-fw fas fa-chart-line"></i><span> 统计</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa fa-icons faa-flash animated-hover"></i><span> 生活</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/photo/"><i class="fa-fw fas fa-image"></i><span> 相册</span></a></li><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-headphones"></i><span> 音乐</span></a></li><li><a class="site-page" href="/artitalk/"><i class="fa-fw fas fa-heartbeat faa-pulse animated faa-fast"></i><span> 说说</span></a></li><li><a class="site-page" href="/steam/"><i class="fa-fw fab fa-steam"></i><span> Steam</span></a></li><li><a class="site-page" target="_blank" rel="noopener external nofollow noreferrer" href="https://honkw-janer.vercel.app/"><i class="fa-fw fas fa-book faa-shake animated"></i><span> 日记</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa fa-wrench faa-wrench animated-hover"></i><span> 工具</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/box/"><i class="fa-fw fas fa-toolbox  faa-bounce animated"></i><span> 盒子</span></a></li><li><a class="site-page" href="/home/"><i class="fa-fw fas fa-globe"></i><span> 主页</span></a></li><li><a class="site-page" target="_blank" rel="noopener external nofollow noreferrer" href="https://honk-wang.avosapps.us/"><i class="fa-fw fas fa-comments"></i><span> 评论</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw far fa-user-circle faa-spin animated-hover"></i><span> 关于</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></li><li><a class="site-page" href="/about/"><i class="fa-fw far fa-address-book"></i><span> 自己</span></a></li><li><a class="site-page" href="/timeline/"><i class="fa-fw fas fa-history faa-spin animated"></i><span> 历史</span></a></li><li><a class="site-page" href="/cv/"><i class="fa-fw far fa-id-card"></i><span> CV</span></a></li></ul></div></div></div></div><div id="body-wrap"><div id="web_bg" data-type="photo"></div><div id="sidebar"><i class="fas fa-arrow-right on" id="toggle-sidebar"></i><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BB%BC%E8%BF%B0"><span class="toc-number">1.</span> <span class="toc-text"> 综述</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#verilog%E4%B8%93%E7%94%A8%E8%AE%BE%E7%BD%AE"><span class="toc-number">2.</span> <span class="toc-text"> Verilog专用设置</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#vimrc%E9%85%8D%E7%BD%AE"><span class="toc-number">2.1.</span> <span class="toc-text"> vimrc配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E5%8C%96%E8%84%9A%E6%9C%AC"><span class="toc-number">2.2.</span> <span class="toc-text"> 自动化脚本</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E6%96%B9%E6%B3%95"><span class="toc-number">2.2.1.</span> <span class="toc-text"> 安装方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E6%97%B6%E5%BA%8F%E6%B3%A2%E5%BD%A2timingwave"><span class="toc-number">2.2.2.</span> <span class="toc-text"> 添加时序波形TimingWave</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0always%E5%9D%97%E5%92%8C%E5%A4%B4%E9%83%A8"><span class="toc-number">2.2.3.</span> <span class="toc-text"> 添加always块和头部</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B%E6%A8%A1%E5%9D%97%E6%90%9C%E7%B4%A2"><span class="toc-number">2.2.4.</span> <span class="toc-text"> 实例&#x2F;模块搜索</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E8%A1%8C%E5%A4%9A%E8%A1%8C%E6%B3%A8%E9%87%8A"><span class="toc-number">2.2.5.</span> <span class="toc-text"> 单行&#x2F;多行注释</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E4%BE%8B%E5%8C%96"><span class="toc-number">2.2.6.</span> <span class="toc-text"> 自动例化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E5%AE%9A%E4%B9%89wire-reg"><span class="toc-number">2.2.7.</span> <span class="toc-text"> 自动定义wire &#x2F; reg</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95%E9%AB%98%E4%BA%AE"><span class="toc-number">2.2.8.</span> <span class="toc-text"> 语法高亮</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%88%90%E5%AF%B9%E6%A0%87%E7%AD%BE%E8%B7%B3%E8%BD%AC"><span class="toc-number">2.2.9.</span> <span class="toc-text"> 成对标签跳转</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E4%BD%93%E7%BC%A9%E6%94%BE"><span class="toc-number">2.2.10.</span> <span class="toc-text"> 字体缩放</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rtltree"><span class="toc-number">2.2.11.</span> <span class="toc-text"> RTLTree</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%92%E4%BB%B6%E8%AE%BE%E7%BD%AE"><span class="toc-number">2.3.</span> <span class="toc-text"> 插件设置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#vundle%E6%8F%92%E4%BB%B6%E7%AE%A1%E7%90%86"><span class="toc-number">2.3.1.</span> <span class="toc-text"> Vundle插件管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#autocomplpop%E8%87%AA%E5%8A%A8%E8%A1%A5%E5%85%A8"><span class="toc-number">2.3.2.</span> <span class="toc-text"> AutoComplPop自动补全</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#syntastic%E4%BB%A3%E7%A0%81%E6%A3%80%E6%9F%A5"><span class="toc-number">2.3.3.</span> <span class="toc-text"> Syntastic代码检查</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BB%88%E7%89%88vimrc%E9%85%8D%E7%BD%AE"><span class="toc-number">3.</span> <span class="toc-text"> 终版vimrc配置</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E8%AE%BE%E7%BD%AE"><span class="toc-number">4.</span> <span class="toc-text"> 其他设置</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%AD%E6%96%87%E5%B8%AE%E5%8A%A9"><span class="toc-number">4.1.</span> <span class="toc-text"> 中文帮助</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83"><span class="toc-number">4.2.</span> <span class="toc-text"> 参考</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%90%E9%AB%98verilog%E5%92%8Cuvm-testbench-coding%E6%95%88%E7%8E%87%E7%9A%84%E5%88%A9%E5%99%A8"><span class="toc-number">4.2.1.</span> <span class="toc-text"> 提高Verilog和UVM testbench coding效率的利器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vtags-verdi-like-verilog-code-signal-trace-and-show-topo-script"><span class="toc-number">4.2.2.</span> <span class="toc-text"> vtags : verdi like, verilog code signal trace and show topo script</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">5.</span> <span class="toc-text"> 总结</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%9C%80%E6%96%B0v82%E7%89%88gvim%E4%BF%AE%E6%94%B92020-02-26-231525-%E5%88%9B%E5%BB%BA"><span class="toc-number">6.</span> <span class="toc-text"> 最新v8.2版Gvim修改（2020-02-26 23:15:25 创建）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#vimrc%E6%9B%B4%E6%94%B9"><span class="toc-number">6.1.</span> <span class="toc-text"> vimrc更改</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%84%9A%E6%9C%AC%E6%9B%B4%E6%94%B9"><span class="toc-number">6.2.</span> <span class="toc-text"> 脚本更改</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%92%E4%BB%B6%E6%9B%B4%E6%94%B9202036%E6%9B%B4%E6%96%B0"><span class="toc-number">6.3.</span> <span class="toc-text"> 插件更改（2020.3.6更新）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%83%A8%E5%88%86%E8%AE%A1%E5%88%92"><span class="toc-number">6.4.</span> <span class="toc-text"> 部分计划</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%83%A8%E5%88%86%E6%9C%89%E7%94%A8%E9%93%BE%E6%8E%A5"><span class="toc-number">6.5.</span> <span class="toc-text"> 部分有用链接</span></a></li></ol></li></ol></div></div></div><header class="post-bg" id="page-header" style="background-image: url(https://cdn.jsdelivr.net/gh/WangHeng93/Pic@latest/cover/syntastic.jpg)"><nav id="nav"><span class="pull-left" id="blog_name"><a class="blog_title" id="site-name" href="/">Doraemon</a></span><span class="pull-right menus"><div id="search_button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home faa-shake animated"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/messages/"><i class="fa-fw far fa-comment-dots faa-shake animated-hover"></i><span> 留言</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa fa-file-alt faa-horizontal animated-hover"></i><span> 文章</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page" href="/statistics/"><i class="fa-fw fas fa-chart-line"></i><span> 统计</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa fa-icons faa-flash animated-hover"></i><span> 生活</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/photo/"><i class="fa-fw fas fa-image"></i><span> 相册</span></a></li><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-headphones"></i><span> 音乐</span></a></li><li><a class="site-page" href="/artitalk/"><i class="fa-fw fas fa-heartbeat faa-pulse animated faa-fast"></i><span> 说说</span></a></li><li><a class="site-page" href="/steam/"><i class="fa-fw fab fa-steam"></i><span> Steam</span></a></li><li><a class="site-page" target="_blank" rel="noopener external nofollow noreferrer" href="https://honkw-janer.vercel.app/"><i class="fa-fw fas fa-book faa-shake animated"></i><span> 日记</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa fa-wrench faa-wrench animated-hover"></i><span> 工具</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/box/"><i class="fa-fw fas fa-toolbox  faa-bounce animated"></i><span> 盒子</span></a></li><li><a class="site-page" href="/home/"><i class="fa-fw fas fa-globe"></i><span> 主页</span></a></li><li><a class="site-page" target="_blank" rel="noopener external nofollow noreferrer" href="https://honk-wang.avosapps.us/"><i class="fa-fw fas fa-comments"></i><span> 评论</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw far fa-user-circle faa-spin animated-hover"></i><span> 关于</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></li><li><a class="site-page" href="/about/"><i class="fa-fw far fa-address-book"></i><span> 自己</span></a></li><li><a class="site-page" href="/timeline/"><i class="fa-fw fas fa-history faa-spin animated"></i><span> 历史</span></a></li><li><a class="site-page" href="/cv/"><i class="fa-fw far fa-id-card"></i><span> CV</span></a></li></ul></div></div><span class="toggle-menu close"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><div id="post-title"><div class="posttitle">Gvim-Verilog-Env</div></div><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-02-23T11:19:27.000Z" title="发表于 2020-02-23 19:19:27">2020-02-23</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2020-08-15T17:37:08.313Z" title="更新于 2020-08-16 01:37:08">2020-08-16</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/editor/">editor</a></span></div><div class="meta-secondline"> <span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">9.8k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>44分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">评论数:</span><a href="/posts/Gvim-Verilog-env/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count comment-count" data-xid="/posts/Gvim-Verilog-env/" itemprop="commentCount"></span></a></span></div></div></div></header><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><div class="tip important"><p>此篇为初篇，主要介绍环境搭建。部分功能可能已改动，只做参考。</p><p></p></div>
<blockquote>
<p>点击查看<a href="/posts/Gvim-Verilog-Final/">终篇效果</a></p>
</blockquote>
<h1 id="综述"><a class="markdownIt-Anchor" href="#综述"></a> 综述</h1>
<p>主要参考了下面几个链接的vimrc配置及脚本：</p>
<p><a target="_blank" rel="noopener external nofollow noreferrer" href="http://dengkanwen.com/438.html">Kevin：如何提高敲代码的速度？</a></p>
<p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.jianshu.com/u/c59586ada722">基于GVim搭建Verilog开发环境</a></p>
<p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.csdn.net/zxy9602/article/details/79439257">全世界最好的编辑器VIM之Windows配置（gvim）</a></p>
<p><a target="_blank" rel="noopener external nofollow noreferrer" href="http://bbs.eetop.cn/thread-335755-3-1.html">vim auto script for verilog &amp; RtlTree - (like Emacs, Verdi)</a></p>
<p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.vim.org/scripts/script.php?script_id=4067">automatic for Verilog &amp; RtlTree : Automatic generator for Verilog HDL (upgraded) &amp; RtlTree</a></p>
<hr />
<h1 id="verilog专用设置"><a class="markdownIt-Anchor" href="#verilog专用设置"></a> Verilog专用设置</h1>
<h2 id="vimrc配置"><a class="markdownIt-Anchor" href="#vimrc配置"></a> vimrc配置</h2>
<p>根据<a target="_blank" rel="noopener external nofollow noreferrer" href="http://dengkanwen.com/438.html">Kevin：如何提高敲代码的速度？</a>，修改相关vimrc的配置，根据自己的操作习惯做了一些快捷键映射的修改，同时添加部分注释。</p>
<hr />
<h2 id="自动化脚本"><a class="markdownIt-Anchor" href="#自动化脚本"></a> 自动化脚本</h2>
<p>在使用上述vimrc配置，搜索相关资料时，作者在<a target="_blank" rel="noopener external nofollow noreferrer" href="http://bbs.eetop.cn/thread-335755-3-1.html">vim auto script for verilog &amp; RtlTree - (like Emacs, Verdi)</a>意外发现一个Verilog自动化脚本。此脚本包含很多Vim相关自动化功能，只需要自己修改部分脚本文件即可使用。</p>
<h3 id="安装方法"><a class="markdownIt-Anchor" href="#安装方法"></a> 安装方法</h3>
<p>在源地址下载链接后，将.vim/plugin文件夹下automatic.vim放入自己的Gvim同样位置的plugin文件夹下。另外可粘贴/after文件夹至vim源文件位置，作为Gvim工具栏使用的icon图标。由于原作者使用的是Linux，因此在Windows下需要重新配置图片位置及格式。</p>
<p>我的VIM安装位置为E:\Vim\vim73，因此将automatic.vim的下列代码</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">amenu ToolBar.-Show-            :</span><br><span class="line">amenu icon=<span class="variable">$HOME</span>/.vim/after/ShowCall.xpm ToolBar.ShowCall               :call ShowCall()&lt;CR&gt;</span><br><span class="line">amenu icon=<span class="variable">$HOME</span>/.vim/after/ShowDef.xpm  ToolBar.ShowDef                :call ShowDef()&lt;CR&gt;</span><br><span class="line">amenu ToolBar.-TimingWave-      :</span><br><span class="line">amenu icon=<span class="variable">$HOME</span>/.vim/after/AddClk.xpm   ToolBar.AddClk                 :call AddClk()&lt;CR&gt;</span><br><span class="line">amenu icon=<span class="variable">$HOME</span>/.vim/after/AddSig.xpm   ToolBar.AddSig                 :call AddSig()&lt;CR&gt;</span><br><span class="line">amenu icon=<span class="variable">$HOME</span>/.vim/after/AddBus.xpm   ToolBar.AddBus                 :call AddBus()&lt;CR&gt;</span><br><span class="line">amenu icon=<span class="variable">$HOME</span>/.vim/after/AddNeg.xpm   ToolBar.AddNeg                 :call AddNeg()&lt;CR&gt;</span><br><span class="line">amenu icon=<span class="variable">$HOME</span>/.vim/after/AddBlk.xpm   ToolBar.AddBlk                 :call AddBlk()&lt;CR&gt;</span><br><span class="line">amenu ToolBar.-Always-          :</span><br><span class="line">amenu icon=<span class="variable">$HOME</span>/.vim/after/alpn.xpm     ToolBar.alpn                   :call AlBpn()&lt;CR&gt;</span><br><span class="line">amenu icon=<span class="variable">$HOME</span>/.vim/after/al.xpm       ToolBar.al                     :call AlB()&lt;CR&gt;</span><br><span class="line">amenu icon=<span class="variable">$HOME</span>/.vim/after/alnn.xpm     ToolBar.alnn                   :call AlBnn()&lt;CR&gt;</span><br></pre></td></tr></table></figure>
<p>修改为(这里$VIM为指向E:\VIM的环境变量)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">amenu ToolBar.-Show-            :</span><br><span class="line">amenu icon=<span class="variable">$VIM</span>/vim73/after/ShowCall.bmp ToolBar.ShowCall               :call ShowCall()&lt;CR&gt;</span><br><span class="line">amenu icon=<span class="variable">$VIM</span>/vim73/after/ShowDef.bmp  ToolBar.ShowDef                :call ShowDef()&lt;CR&gt;</span><br><span class="line">amenu ToolBar.-TimingWave-      :</span><br><span class="line">amenu icon=<span class="variable">$VIM</span>/vim73/after/AddClk.bmp   ToolBar.AddClk                 :call AddClk()&lt;CR&gt;</span><br><span class="line">amenu icon=<span class="variable">$VIM</span>/vim73/after/AddSig.bmp   ToolBar.AddSig                 :call AddSig()&lt;CR&gt;</span><br><span class="line">amenu icon=<span class="variable">$VIM</span>/vim73/after/AddBus.bmp   ToolBar.AddBus                 :call AddBus()&lt;CR&gt;</span><br><span class="line">amenu icon=<span class="variable">$VIM</span>/vim73/after/AddNeg.bmp   ToolBar.AddNeg                 :call AddNeg()&lt;CR&gt;</span><br><span class="line">amenu icon=<span class="variable">$VIM</span>/vim73/after/AddBlk.bmp   ToolBar.AddBlk                 :call AddBlk()&lt;CR&gt;</span><br><span class="line">amenu ToolBar.-Always-          :</span><br><span class="line">amenu icon=<span class="variable">$VIM</span>/vim73/after/alpn.bmp     ToolBar.alpn                   :call AlBpn()&lt;CR&gt;</span><br><span class="line">amenu icon=<span class="variable">$VIM</span>/vim73/after/al.bmp       ToolBar.al                     :call AlB()&lt;CR&gt;</span><br><span class="line">amenu icon=<span class="variable">$VIM</span>/vim73/after/alnn.bmp     ToolBar.alnn                   :call AlBnn()&lt;CR&gt;</span><br></pre></td></tr></table></figure>
<p>这样打开Gvim就可以看见菜单栏和工具栏了。</p>
<p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/WangHeng93/Pic@latest/autoscript.jpg" alt="工具栏和菜单栏" /></p>
<p>下面介绍这个脚本的一些自动化功能。</p>
<hr />
<h3 id="添加时序波形timingwave"><a class="markdownIt-Anchor" href="#添加时序波形timingwave"></a> 添加时序波形TimingWave</h3>
<p>在编辑器内可以添加时序波形，通过菜单栏、工具栏以及快捷键操作。可以添加时钟（clk），信号（sig）和总线（bus）信号。通过翻转（Invert，快捷键ctrl+F8）操作信号。</p>
<p>配置参数在automatic.vim的如下位置：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> s:sig_offset = 13</span><br><span class="line"><span class="built_in">let</span> s:clk_period = 8</span><br><span class="line"><span class="built_in">let</span> s:clk_num = 16</span><br><span class="line"><span class="built_in">let</span> s:cq_trans = 1</span><br><span class="line"><span class="built_in">let</span> s:wave_max_wd = s:sig_offset + s:clk_num*s:clk_period</span><br><span class="line"><span class="string">&quot;0 is clk posedge, 4 is clk negedge</span></span><br></pre></td></tr></table></figure>
<p>sig_offset：产生信号的偏移宽度</p>
<p>clk_period: 产生的时钟信号的周期</p>
<p>clk_num: 产生的时钟信号的个数</p>
<p>cq_trans: 第几个沿开始跳变。0代表上升沿，4代表下降沿。这里用1表示上升沿跳变，延迟1个单位。</p>
<p>输出的波形样式如下：</p>
<p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/WangHeng93/Pic@latest/timingwave.jpg" alt="输出波形" /></p>
<hr />
<h3 id="添加always块和头部"><a class="markdownIt-Anchor" href="#添加always块和头部"></a> 添加always块和头部</h3>
<p>在在编辑器内可以添加always块和文件头，通过菜单栏、工具栏或快捷键操作。前面的vimrc配置中其实已经有简洁版的always块生成方法（输入&quot;al&quot;），这里使用脚本可以使得修改配置更加简单，因为配置是通过函数输入的，不需要再手动去找位置改代码。</p>
<p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/WangHeng93/Pic@latest/alwaysgen.jpg" alt="always块生成" /></p>
<p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/WangHeng93/Pic@latest/always.jpg" alt="always" /></p>
<p>想要修改always的生成逻辑，修改automatic.vim的如下代码即可（一共四种类型的alwyas块，这里只放一种作参考）：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;Always Block definition &#123;&#123;&#123;1</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">function AlBpn() &quot;</span>&#123;&#123;&#123;2</span><br><span class="line">    <span class="built_in">let</span> lnum = line(<span class="string">&quot;.&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> idx <span class="keyword">in</span> range(1,7)</span><br><span class="line">        call append(lnum,<span class="string">&quot;&quot;</span>)</span><br><span class="line">    endfor</span><br><span class="line">    call setline(lnum+1,<span class="string">&quot;always @(posedge clk or negedge rst_n) begin&quot;</span>)</span><br><span class="line">    call setline(lnum+2,<span class="string">&quot;    if(!rst_n) begin&quot;</span>)</span><br><span class="line">    call setline(lnum+3,<span class="string">&quot;        &quot;</span>)</span><br><span class="line">    call setline(lnum+4,<span class="string">&quot;    end else if() begin&quot;</span>)</span><br><span class="line">    call setline(lnum+5,<span class="string">&quot;    end else begin&quot;</span>)</span><br><span class="line">    call setline(lnum+6,<span class="string">&quot;    end&quot;</span>)</span><br><span class="line">    call setline(lnum+7,<span class="string">&quot;end&quot;</span>)</span><br><span class="line">    call cursor(lnum+3,9)</span><br><span class="line">endfunction <span class="string">&quot;&#125;&#125;&#125;2</span></span><br></pre></td></tr></table></figure>
<p>同样的方法可以修改添加头部设置。这里推荐删除原vimrc配置产生头文件的部分代码。</p>
<p>因为原vimrc配置由于头部过长，修改配置非常麻烦，但在此脚本的函数下比较方便。修改的代码位置如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> AddHeader() <span class="string">&quot;&#123;&#123;&#123;2</span></span><br><span class="line"><span class="string">	let line = getline(1)</span></span><br><span class="line"><span class="string">	if line =~ &#x27;// +FHDR&#x27;</span></span><br><span class="line"><span class="string">        return</span></span><br><span class="line"><span class="string">	endif</span></span><br><span class="line"><span class="string">    let company = system(&quot;</span><span class="built_in">echo</span> <span class="variable">$COMPANY</span><span class="string">&quot;)</span></span><br><span class="line"><span class="string">    let company = substitute(company,&#x27;\n&#x27;,&#x27;&#x27;,&#x27;&#x27;)</span></span><br><span class="line"><span class="string">    if company =~ &#x27;COMPANY:&#x27;</span></span><br><span class="line"><span class="string">		echohl WarningMsg | echo &quot;</span>unix env <span class="variable">$COMPANY</span>: Undefined variable. Please set_env COMPANY <span class="keyword">in</span> ~/.cshrc<span class="string">&quot; | echohl None</span></span><br><span class="line"><span class="string">    endif</span></span><br><span class="line"><span class="string">    &quot;</span>===============================================================</span><br><span class="line">    <span class="string">&quot;        Add File Header</span></span><br><span class="line"><span class="string">    &quot;</span>===============================================================</span><br><span class="line">	<span class="built_in">let</span> filename = expand(<span class="string">&quot;%&quot;</span>)</span><br><span class="line">	call append(0,  <span class="string">&quot;// +FHDR------------------------------------------------------------&quot;</span>)</span><br><span class="line">	call append(1,  <span class="string">&quot;//                 Copyright (c) &quot;</span>.strftime(<span class="string">&quot;%Y &quot;</span>) . company . <span class="string">&quot;.&quot;</span>)</span><br><span class="line">	call append(2,  <span class="string">&quot;//                       ALL RIGHTS RESERVED&quot;</span>)</span><br><span class="line">	call append(3,  <span class="string">&quot;// -----------------------------------------------------------------&quot;</span>)</span><br><span class="line">	call append(4,  <span class="string">&quot;// Filename      : &quot;</span>.filename)</span><br><span class="line">	call append(5,  <span class="string">&quot;// Author        : &quot;</span>.s:GetUserName())</span><br><span class="line">	call append(6,  <span class="string">&quot;// Created On    : &quot;</span>.strftime(<span class="string">&quot;%Y-%m-%d %H:%M&quot;</span>))</span><br><span class="line">	call append(7,  <span class="string">&quot;// Last Modified : &quot;</span>)</span><br><span class="line">	call append(8,  <span class="string">&quot;// -----------------------------------------------------------------&quot;</span>)</span><br><span class="line">	call append(9,  <span class="string">&quot;// Description:&quot;</span>)</span><br><span class="line">	call append(10,  <span class="string">&quot;//&quot;</span>)</span><br><span class="line">	call append(11, <span class="string">&quot;//&quot;</span>)</span><br><span class="line">	call append(12, <span class="string">&quot;// -FHDR------------------------------------------------------------&quot;</span>)</span><br><span class="line">	call append(13, <span class="string">&quot;&quot;</span>)</span><br><span class="line">endfunction <span class="string">&quot;&#125;&#125;&#125;2</span></span><br></pre></td></tr></table></figure>
<p>注意这里作者使用的姓名、公司等是在linux系统下自动配置的，可以根据自己的需求自行修改（本人依旧采用vimrc配置头部的格式，只是改成了使用脚本的方法）。修改如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> AddHeader() <span class="string">&quot;&#123;&#123;&#123;2</span></span><br><span class="line"><span class="string">	let line = getline(1)</span></span><br><span class="line"><span class="string">	if line =~ &#x27;// +FHDR&#x27;</span></span><br><span class="line"><span class="string">        return</span></span><br><span class="line"><span class="string">	endif</span></span><br><span class="line"><span class="string">    let company = system(&quot;</span><span class="built_in">echo</span> <span class="variable">$COMPANY</span><span class="string">&quot;)</span></span><br><span class="line"><span class="string">    let company = substitute(company,&#x27;\n&#x27;,&#x27;&#x27;,&#x27;&#x27;)</span></span><br><span class="line"><span class="string">    if company =~ &#x27;COMPANY:&#x27;</span></span><br><span class="line"><span class="string">		echohl WarningMsg | echo &quot;</span>unix env <span class="variable">$COMPANY</span>: Undefined variable. Please set_env COMPANY <span class="keyword">in</span> ~/.cshrc<span class="string">&quot; | echohl None</span></span><br><span class="line"><span class="string">    endif</span></span><br><span class="line"><span class="string">    &quot;</span>===============================================================</span><br><span class="line">    <span class="string">&quot;        Add File Header</span></span><br><span class="line"><span class="string">    &quot;</span>===============================================================</span><br><span class="line">	<span class="built_in">let</span> filename = expand(<span class="string">&quot;%&quot;</span>)</span><br><span class="line">	call append(0,  <span class="string">&quot;// =================================================================================&quot;</span>)</span><br><span class="line">	call append(1,  <span class="string">&quot;// Project Name : Test&quot;</span>)</span><br><span class="line">	call append(2,  <span class="string">&quot;// Device       : Xlinx&quot;</span>)</span><br><span class="line">	call append(3,  <span class="string">&quot;// Author       : HonkW&quot;</span>)</span><br><span class="line">	call append(4,  <span class="string">&quot;// Email        : honkwang93@gmail.com&quot;</span>)</span><br><span class="line">	call append(5,  <span class="string">&quot;// Website      : https://wangheng93.github.io&quot;</span>)</span><br><span class="line">	call append(6,  <span class="string">&quot;// Create Time  : &quot;</span>.strftime(<span class="string">&quot;%Y/%m/%d %H:%M&quot;</span>))</span><br><span class="line">	call append(7,  <span class="string">&quot;// File Name    : .v&quot;</span>)</span><br><span class="line">	call append(8,  <span class="string">&quot;// Module Name  :&quot;</span>)</span><br><span class="line">	call append(9,  <span class="string">&quot;// &quot;</span>)</span><br><span class="line">	call append(10, <span class="string">&quot;// CopyRight(c) 2020, NPIC&quot;</span>)</span><br><span class="line">	call append(11, <span class="string">&quot;// All Rights Reserved&quot;</span>)</span><br><span class="line">	call append(12, <span class="string">&quot;// &quot;</span>)</span><br><span class="line">	call append(13, <span class="string">&quot;// =================================================================================&quot;</span>)</span><br><span class="line">	call append(14, <span class="string">&quot;// Modification History:&quot;</span>)</span><br><span class="line">	call append(15, <span class="string">&quot;// Date         By              Version                 Change Description&quot;</span>)</span><br><span class="line">	call append(16, <span class="string">&quot;// ---------------------------------------------------------------------------------&quot;</span>)</span><br><span class="line">	call append(17, <span class="string">&quot;// &quot;</span>.strftime(<span class="string">&quot;%x&quot;</span>).<span class="string">&quot;    Honk            1.0                     Original&quot;</span>)</span><br><span class="line">	call append(18, <span class="string">&quot;// &quot;</span>)</span><br><span class="line">	call append(19, <span class="string">&quot;// =================================================================================&quot;</span>)</span><br><span class="line">	call append(20, <span class="string">&quot;`timescale  1ns/1ns&quot;</span>)</span><br><span class="line">	call append(21, <span class="string">&quot;module&quot;</span>)</span><br><span class="line">	call append(22, <span class="string">&quot;( &quot;</span>)</span><br><span class="line">	call append(23, <span class="string">&quot; &quot;</span>)</span><br><span class="line">	call append(24, <span class="string">&quot; &quot;</span>)</span><br><span class="line">	call append(25, <span class="string">&quot;);&quot;</span>)</span><br><span class="line">  	call append(26, <span class="string">&quot; &quot;</span>)  </span><br><span class="line">  	call append(27, <span class="string">&quot;endmodule&quot;</span>)  </span><br><span class="line">    call cursor(8,19)</span><br><span class="line">endfunction <span class="string">&quot;&#125;&#125;&#125;2</span></span><br></pre></td></tr></table></figure>
<p>当然，为了和我的vimrc统一，添加了map的快捷键设置，快捷键依旧保持为&quot;hd&quot;，然后删除了vimrc中冗长且不好修改的头部文件配置代码。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">map hd                                                                  :call AddHeader()&lt;CR&gt;i</span><br></pre></td></tr></table></figure>
<hr />
<h3 id="实例模块搜索"><a class="markdownIt-Anchor" href="#实例模块搜索"></a> 实例/模块搜索</h3>
<p>可以通过Search菜单栏上下搜索.v文件中多个例化模块，或者搜索module。</p>
<hr />
<h3 id="单行多行注释"><a class="markdownIt-Anchor" href="#单行多行注释"></a> 单行/多行注释</h3>
<p>单行注释可直接通过快捷键或菜单栏点击生成，格式可在automatic.vim代码中自行修改。</p>
<p>多行注释注意先选中需要注释的内容再使用快捷键或菜单栏点击，否则可能出现异常。</p>
<hr />
<h3 id="自动例化"><a class="markdownIt-Anchor" href="#自动例化"></a> 自动例化</h3>
<p>自动进行模块的端口例化。下面以一个例子作为说明：</p>
<p>假设已完成模块的文件名为sdrmc_state.v，模块名为sdrmc_state，模块端口如下。</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> sdrmc_state (</span><br><span class="line">   <span class="comment">// Outputs</span></span><br><span class="line">   pre_sd_ras_p, pre_sd_cas_p, pre_sd_we_p, pre_ld_brst, pre_ld_rcd, </span><br><span class="line">   pre_ld_cslt, pre_clr_ref, pre_sd_doe_n, pre_sd_doe2_n, </span><br><span class="line">   pre_sd_ready, pre_sd_add_mx, pre_ad_tri,</span><br><span class="line">   <span class="comment">// Inputs</span></span><br><span class="line">   Reset, Clk, brst_end, cslt_end, rcd_end, auto_ref, ki_end, </span><br><span class="line">   clr_ref, Act_st, write_st</span><br><span class="line">   );</span><br><span class="line">   <span class="keyword">output</span> 		pre_sd_ras_p, pre_sd_cas_p, pre_sd_we_p, pre_ld_brst;</span><br><span class="line">   <span class="keyword">output</span> 		pre_ld_rcd, pre_ld_cslt, pre_clr_ref, pre_ad_tri;</span><br><span class="line">   <span class="keyword">output</span> 		pre_sd_doe_n, pre_sd_doe2_n, pre_sd_ready, pre_sd_add_mx; </span><br><span class="line">   </span><br><span class="line">   <span class="keyword">input</span> 		Reset, Clk, brst_end, cslt_end, rcd_end;</span><br><span class="line">   <span class="keyword">input</span> 		auto_ref, ki_end, clr_ref;</span><br><span class="line">   <span class="keyword">input</span> [<span class="number">2</span>:<span class="number">0</span>] 		Act_st;</span><br><span class="line">   <span class="keyword">input</span> 		write_st;</span><br></pre></td></tr></table></figure>
<p>在<strong>同一文件夹下</strong>新建一个.v文件。假设在这个文件例化sdrmc_state模块，则只需要在代码中输入(注意autoinst的输入方法，以及最后必须加分号)：</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sdrmc_state u_sdrmc_state(<span class="comment">/*autoinst*/</span>);</span><br></pre></td></tr></table></figure>
<p>鼠标点中模块实例化行（autoinst关键字所在行），然后选择菜单Verilog -&gt; AutoInst， 即完成自动例化功能 （或使用快捷键）。</p>
<p>自动例化状态如下：</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">   sdrmc_state u_sdrmc_state(<span class="comment">/*autoinst*/</span></span><br><span class="line">    <span class="variable">.pre_sd_ras_p</span>                   (pre_sd_ras_p                               ), <span class="comment">// output</span></span><br><span class="line">    <span class="variable">.pre_ld_rcd</span>                     (pre_ld_rcd                                 ), <span class="comment">// output</span></span><br><span class="line">    <span class="variable">.pre_sd_doe_n</span>                   (pre_sd_doe_n                               ), <span class="comment">// output</span></span><br><span class="line">   </span><br><span class="line">    <span class="variable">.Reset</span>                          (Reset                                      ), <span class="comment">// input </span></span><br><span class="line">    <span class="variable">.auto_ref</span>                       (auto_ref                                   ), <span class="comment">// input </span></span><br><span class="line">    <span class="variable">.Act_st</span>                         (Act_st[<span class="number">2</span>:<span class="number">0</span>]                                ), <span class="comment">// input </span></span><br><span class="line">    <span class="variable">.write_st</span>                       (write_st                                   )  <span class="comment">// input </span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>同时，原作者开发了几个实用的自动例化的相关功能</p>
<ul>
<li>
<p>自动例化更新：</p>
<p>功能用于提示当子模块有接口改变后，快速的知道有哪些模块被添加或者被删除<br />
提示会用注释的方式在模块port例化行的末尾加上，修改连线代码后，请自行删除。<br />
// INST_NEW 表示当前行，为子模块新增加的信号<br />
// INST_DEL  表示当前行，子模块已经将此信号删除</p>
<p>鼠标点中模块实例化行（autoinst关键字所在行），然后选择菜单 Verilog -&gt; AutoInstUpdate,    AutoInstUpdateOrder 是将连线顺序重新排布为子模块接口定义的顺序，方便对应</p>
</li>
<li>
<p>添加例化模块的端口方向：</p>
<p>鼠标点中模块实例化行（autoinst关键字所在行），然后选择菜单 Verilog -&gt; AppendPortDirectionToInst</p>
<p>注意这个功能是没有添加端口方向的例化模块使用的。如果使用的原作者的自动例化功能，是自动附带端口方向的。如果想取消这个功能，可以到automatic.vim的function AutoInst中修改部分代码</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> value[7] == 1</span><br><span class="line">	<span class="built_in">let</span> tmp_line = tmp_line . suffix_margin . <span class="string">&#x27;)  // &#x27;</span> . io_dir</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">	<span class="built_in">let</span> tmp_line = tmp_line . suffix_margin . <span class="string">&#x27;), // &#x27;</span> . io_dir</span><br><span class="line">endif</span><br></pre></td></tr></table></figure>
<p>修改为：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> value[7] == 1</span><br><span class="line">	<span class="built_in">let</span> tmp_line = tmp_line . suffix_margin . <span class="string">&#x27;)  &#x27;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">	<span class="built_in">let</span> tmp_line = tmp_line . suffix_margin . <span class="string">&#x27;), &#x27;</span></span><br><span class="line">endif</span><br></pre></td></tr></table></figure>
</li>
</ul>
<hr />
<h3 id="自动定义wire-reg"><a class="markdownIt-Anchor" href="#自动定义wire-reg"></a> 自动定义wire / reg</h3>
<p>（以下为原作者语）：此功能强烈依赖用户良好的verilog编码习惯，自己尝试后<strong>请慎重选择试用</strong>。  菜单Verilog -&gt; AutoDef, 脚本会在autodef（请用注释符包起来）位置开始自动定义数据类型，当然不能识别所有的结构，未完全定义部分（会有提示，但测试中有遇到没有完全提示的情况）请自行添加到autodef结构之外， 避免重新autodef时被脚本删除。</p>
<p>此功能与vimrc中的配置有所重复（可查看vimrc配置文件），故暂不使用。</p>
<hr />
<h3 id="语法高亮"><a class="markdownIt-Anchor" href="#语法高亮"></a> 语法高亮</h3>
<p>根据<a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.csdn.net/sxlwzl/article/details/23753081?utm_source=distribute.pc_relevant.none-task">vim语法高亮—verilog/systemverilog</a>的说法：</p>
<p>This script extends Verilog syntax highlighting, which comes along with Vim 6.3, and adds SystemVerilog stuff to it. It will recognize Verilog and SystemVerilog syntax in *.v, *.vh and *.sv files. The new syntax is named as “verilog_systemverilog”. If your scripts are loaded correctly, you should see this syntax name when you execute the Vim command “:set syntax?” in your Verilog/SystemVerilog files.</p>
<p>因此只有需要使用systemverilog的时候才需要，不然vim是自带verilog语法高亮的。安装步骤在链接中也有说，将三个文件分别拷贝到对应位置即可。此自动化脚本的压缩包内也包含语法高亮相关的配置文件。因暂时不使用systemverilog，故不使用此语法高亮扩展。</p>
<hr />
<h3 id="成对标签跳转"><a class="markdownIt-Anchor" href="#成对标签跳转"></a> 成对标签跳转</h3>
<p>此脚本将matchit.vim文件放到plugin文件夹中，并在vimrc添加对标如下:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> b:match_words = <span class="string">&#x27;\&lt;function\&gt;:\&lt;endfunction\&gt;,&#x27;</span></span><br><span class="line">					\ . <span class="string">&#x27;\&lt;task\&gt;:\&lt;endtask\&gt;,&#x27;</span></span><br><span class="line">					\ . <span class="string">&#x27;\&lt;module\&gt;:\&lt;endmodule\&gt;,&#x27;</span></span><br><span class="line">					\ . <span class="string">&#x27;\&lt;begin\&gt;:\&lt;end\&gt;,&#x27;</span></span><br><span class="line">					\ . <span class="string">&#x27;\&lt;case\&gt;:\&lt;endcase\&gt;,&#x27;</span></span><br><span class="line">					\ . <span class="string">&#x27;\&lt;class\&gt;:\&lt;endclass\&gt;,&#x27;</span></span><br><span class="line">					\ . <span class="string">&#x27;\&lt;for\&gt;:\&lt;endfor\&gt;,&#x27;</span></span><br><span class="line">					\ . <span class="string">&#x27;\&lt;while\&gt;:\&lt;endwhile\&gt;,&#x27;</span></span><br><span class="line">					\ . <span class="string">&#x27;\&lt;specify\&gt;:\&lt;endspecify\&gt;,&#x27;</span></span><br><span class="line">					\ . <span class="string">&#x27;\&lt;generate\&gt;:\&lt;endgenerate\&gt;,&#x27;</span></span><br><span class="line">					\ . <span class="string">&#x27;\&lt;\(ifdef\|ifndef\)\&gt;:\&lt;\(else\|elsif\)\&gt;:\&lt;endif\&gt;,&#x27;</span></span><br><span class="line">					\ . <span class="string">&#x27;`\&lt;\(ifdef\|ifndef\)\&gt;:`\&lt;\(else\|elsif\)\&gt;:`\&lt;endif\&gt;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>参考<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.jianshu.com/u/c59586ada722">基于GVim搭建Verilog开发环境</a>，因Gvim的macro文件夹自带matchit.vim，只是平时未使用。因此直接在vimrc中添加路径即可。另外添加部分成对标签。最终在vimrc中添加如下代码：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot; =============================================================</span></span><br><span class="line"><span class="string">&quot;</span>                        成对标签设置</span><br><span class="line"><span class="string">&quot; =============================================================</span></span><br><span class="line"><span class="string">source <span class="variable">$VIMRUNTIME</span>/macros/matchit.vim</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">let b:match_ignorecase=0</span></span><br><span class="line"><span class="string">let b:match_words=</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;begin\&gt;:\&lt;end\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;if\&gt;:\&lt;else\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;module\&gt;:\&lt;endmodule\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;class\&gt;:\&lt;endclass\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;program\&gt;:\&lt;endprogram\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;clocking\&gt;:\&lt;endclocking\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;property\&gt;:\&lt;endproperty\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;sequence\&gt;:\&lt;endsequence\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;package\&gt;:\&lt;endpackage\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;covergroup\&gt;:\&lt;endgroup\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;primitive\&gt;:\&lt;endprimitive\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;specify\&gt;:\&lt;endspecify\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;generate\&gt;:\&lt;endgenerate\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;interface\&gt;:\&lt;endinterface\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;function\&gt;:\&lt;endfunction\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;task\&gt;:\&lt;endtask\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;for\&gt;:\&lt;endfor\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;while\&gt;:\&lt;endwhile\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;specify\&gt;:\&lt;endspecify\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;generate\&gt;:\&lt;endgenerate\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;case\&gt;\|\&lt;casex\&gt;\|\&lt;casez\&gt;:\&lt;endcase\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;fork\&gt;:\&lt;join\&gt;\|\&lt;join_any\&gt;\|\&lt;join_none\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;`ifdef\&gt;:`else\&gt;:`endif\&gt;,&#x27;</span></span><br></pre></td></tr></table></figure>
<p>配置完成后，在Gvim中使用&quot;%&quot;操作，即可在各类配对的符号（针对verilog/systemverilog代码）中跳转。</p>
<hr />
<h3 id="字体缩放"><a class="markdownIt-Anchor" href="#字体缩放"></a> 字体缩放</h3>
<p>zoom.vim放入plugin文件夹即可使用。使用&quot;+“和”-&quot;进行Gvim字体大小的缩放。</p>
<hr />
<h3 id="rtltree"><a class="markdownIt-Anchor" href="#rtltree"></a> RTLTree</h3>
<p>暂未使用，这里介绍一下找到的相关资料。主要想弄一个RTL结构树类型的插件。在搜索过程中找到了如下资料：</p>
<p><a target="_blank" rel="noopener external nofollow noreferrer" href="http://bbs.eetop.cn/thread-862619-1-1.html">vtags3.0: vim/gvim中进行verilog语言信号追踪、显示拓扑插件，最新3.0版</a> ，然后根据这个找到了原版在vimscript上的原版<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.vim.org/scripts/script.php?script_id=5494">vtags : verdi like, verilog code signal trace and show topo script</a>。试了半天之后发现指导书均基于linux，貌似在windows下Gvim没法用，故放弃。</p>
<p>在这个自动化脚本里也有ctag_gen文件，作者也是用这个生成ctags，然后形成rtltree。尝试了发现不行，不知具体原因。</p>
<p>在<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.jianshu.com/p/972655d2b722">基于GVim搭建Verilog开发环境</a>中介绍了universal-ctags的使用，使用 <code>git-bash ctags -R --languages=Verilog /path/to/the/code</code> 也成功生成了ctags，只是未尝试结合verilog_systemverilog的模块跳转功能。感觉这个功能影响不大，因为这个依然没有RTLTree显示的功能。</p>
<p><strong>最新进展（2020-2-28）：脚本ctags这个可以在windows下使用，需要perl。如果有git-bash很简单，git自带perl。可以用perl -v 查看自己的bash是否带perl。将所有.v文件和ctags_gen文件放到一个文件夹下，在git-bash中用perl输入：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">perl ctags_gen *.v</span><br></pre></td></tr></table></figure>
<p><strong>这样就会在文件夹下生成一个tag文件。这样在Gvim中使用:Rtltree命令即可通过NERDTree插件查看Rtltree结构。注意这个脚本不是很稳定，有些时候调用会出问题。建议还是使用IDE，不在编辑器里使用。</strong></p>
<hr />
<h2 id="插件设置"><a class="markdownIt-Anchor" href="#插件设置"></a> 插件设置</h2>
<p>安装一些Verilog的Gvim插件。</p>
<h3 id="vundle插件管理"><a class="markdownIt-Anchor" href="#vundle插件管理"></a> Vundle插件管理</h3>
<p>Vundle安装参考<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.jianshu.com/p/972655d2b722">基于GVim搭建Verilog开发环境</a>以及其源网站<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/VundleVim">VundleVim</a>/<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/VundleVim/Vundle.vim">Vundle.vim</a>。vimrc添加配置如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot; =============================================================</span></span><br><span class="line"><span class="string">&quot;</span>                           插件设置</span><br><span class="line"><span class="string">&quot; =============================================================</span></span><br><span class="line"><span class="string">&quot;</span> 设置运行路径，注意新建系统变量VIM指向Gvim的安装目录</span><br><span class="line"><span class="keyword">if</span>(has(<span class="string">&#x27;win32&#x27;</span>) || has(<span class="string">&#x27;win64&#x27;</span>))</span><br><span class="line">    <span class="built_in">set</span> rtp+=<span class="variable">$VIM</span>/vimfiles/bundle/Vundle.vim</span><br><span class="line">    <span class="built_in">let</span> path=<span class="string">&#x27;$VIM/vimfiles/bundle&#x27;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">set</span> rtp+=~/.vim/bundle/Vundle.vim</span><br><span class="line">    <span class="built_in">let</span> path=<span class="string">&#x27;~/.vim/bundle&#x27;</span></span><br><span class="line">endif</span><br><span class="line"></span><br><span class="line"><span class="string">&quot; -----------------------插件列表------------------------------</span></span><br><span class="line"><span class="string">call vundle#begin(&#x27;<span class="variable">$VIM</span>/vimfiles/bundle&#x27;)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span>使用Vundle管理插件</span><br><span class="line">Plugin <span class="string">&#x27;VundleVim/Vundle.vim&#x27;</span></span><br><span class="line"><span class="string">&quot;多插件列表</span></span><br><span class="line"><span class="string">Plugin &#x27;AutoComplPop&#x27;                   &quot;</span>自动补全窗口弹出</span><br><span class="line">Plugin <span class="string">&#x27;vim-syntastic/syntastic&#x27;</span>        <span class="string">&quot;语法检查</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">call vundle#end()</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span>允许插件  </span><br><span class="line">filetype plugin on</span><br></pre></td></tr></table></figure>
<p>注意#begin位置那里要加入路径，不然可能生成两个bundle文件夹安装插件，因为默认在.vim文件夹下自建插件文件夹。</p>
<p>配置完成后启动Gvim，在Gvim中输入运行 <code>:PluginInstall</code> 安装插件。运行<code>:PluginList</code>查看安装了的插件。 若要卸载插件，先在vimrc中删除Plugin，然后启动Gvim，运行<code>:PluginClean</code>即可卸载插件。</p>
<p>这样的安装和卸载方法可以减少复制粘贴文件的麻烦，便于管理使用的插件。</p>
<hr />
<h3 id="autocomplpop自动补全"><a class="markdownIt-Anchor" href="#autocomplpop自动补全"></a> AutoComplPop自动补全</h3>
<p>输入时自动弹出补全窗口。直接使用Vundle安装即可。参考<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/vim-scripts">vim-scripts</a>/<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/vim-scripts/AutoComplPop">AutoComplPop</a>。根据网上的说法，YCM集成了多个插件，功能上应该更好。但鉴于本人暂时不需要复杂的自动补全，故没有选择YCM。</p>
<hr />
<h3 id="syntastic代码检查"><a class="markdownIt-Anchor" href="#syntastic代码检查"></a> Syntastic代码检查</h3>
<p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.csdn.net/weixin_34040079/article/details/88356905">Vim之代码异步检测插件 ALE</a>、 <a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.csdn.net/demorngel/article/details/69052789">Vim插件之ale</a>中阐述主要有三种代码检查插件</p>
<ul>
<li>Syntastic</li>
<li>Neomake</li>
<li>ALE</li>
</ul>
<p>其中ALE为异步检测，效果最好，但是需要vim8以上的版本。本人之前一直使用的是Vim7.3，编译的要求也不高，只做简单的规则检查，所以暂时用的老版的syntastic。</p>
<p>使用Vundle安装syntastic过程中可能有故障，关闭打开的cmd窗口，忽略那些错误提示完成安装即可。</p>
<p>另外需要给syntastic配置Linter，这里使用iverilog。windows版本下载：<a target="_blank" rel="noopener external nofollow noreferrer" href="http://bleyer.org/icarus/">Icarus Verilog for Windows</a>。安装后需要将iverilog加入系统变量$PATH中，这样就可以在命令行里调用iverilog命令了。参考<a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.csdn.net/John_Y97/article/details/88869296">Windows 10下配置和使用Icarus Verilog (iverilog)和GTKWave</a>和<a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.csdn.net/weixin_34281477/article/details/93372241">Windows上使用iverilog+gtkwave仿真</a></p>
<p>配置vimrc中的syntastic不正确会有类似故障信息如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">E484: Cannot open file &#x2F;tmp&#x2F;vnmSZpx&#x2F;4  </span><br><span class="line">Error detected while processing function SyntasticInfo..310..309..247:  </span><br><span class="line">line  3:  </span><br><span class="line">E171: Missing :endif  </span><br><span class="line">Error detected while processing function SyntasticInfo..310:  </span><br></pre></td></tr></table></figure>
<p>Google后发现 <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/vim-syntastic/syntastic/issues/1384">Error messages when enabling syntastic #1384</a>以及<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/vim-syntastic">vim-syntastic</a>/<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/vim-syntastic/syntastic">syntastic</a>的FAQ的4.1里都有说，应该是shellslash的平台问题，syntastic_shell设置成git-bash后正常。但后来在syntastic调用git-bash一阵子再使用时出现故障</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash: &#x2F;c: Is a directory &#x2F;usr&#x2F;bin&#x2F;bash: Exit 126.</span><br></pre></td></tr></table></figure>
<p>切换回命令行又可以正常使用。原因未知。</p>
<p>修改的vimrc配置：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&quot;语法检查插件配置</span><br><span class="line">set statusline+&#x3D;%#warningmsg#</span><br><span class="line">set statusline+&#x3D;%&#123;SyntasticStatuslineFlag()&#125;</span><br><span class="line">set statusline+&#x3D;%*</span><br><span class="line"></span><br><span class="line">&quot;显示消息气泡</span><br><span class="line">let g:syntastic_enable_balloons &#x3D; 1</span><br><span class="line"></span><br><span class="line">&quot;</span><br><span class="line">let g:syntastic_always_populate_loc_list &#x3D; 1</span><br><span class="line"></span><br><span class="line">&quot;不自动进行代码检查</span><br><span class="line">let g:syntastic_auto_loc_list &#x3D; 1</span><br><span class="line">let g:syntastic_check_on_open &#x3D; 0</span><br><span class="line">let g:syntastic_check_on_wq &#x3D; 0</span><br><span class="line">let g:syntastic_mode_map &#x3D; &#123;</span><br><span class="line">        \ &quot;mode&quot;: &quot;passive&quot;,</span><br><span class="line">        \ &quot;active_filetypes&quot;: [&quot;&quot;],</span><br><span class="line">        \ &quot;passive_filetypes&quot;: [&quot;verilog&quot;] &#125;</span><br><span class="line">        </span><br><span class="line">&quot; 设置linter为iverilog,这里需要在系统变量PATH中添加iverilog的位置，这样shell才能识别iverilog指令</span><br><span class="line">let g:syntastic_verilog_checkers &#x3D; [&#39;iverilog&#39;]</span><br><span class="line"></span><br><span class="line">&quot; 设置shell路径，注意这玩意不接受cmd.exe这种windows的shell，不设置就有问题(????????????????????????????????)</span><br><span class="line">&quot; let g:syntastic_shell &#x3D; &amp;shell</span><br><span class="line"></span><br><span class="line">nnoremap check :SyntasticCheck&lt;CR&gt;</span><br></pre></td></tr></table></figure>
<p>其中，mode_map设置主要为了关闭保存文件自动代码检查的功能。另外映射了check为代码检查的快捷键。代码编写完成后运行<code>:SyntasticCheck</code>或直接输入<code>check</code>即进行检查，效果如下：</p>
<p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/WangHeng93/Pic@latest/syntastic.jpg" alt="syntastic" /></p>
<p>之后换新版Gvim考虑把代码检查换成ALE。</p>
<hr />
<h1 id="终版vimrc配置"><a class="markdownIt-Anchor" href="#终版vimrc配置"></a> 终版vimrc配置</h1>
<p>按照之前需要的添加部分配置，然后删除了部分代码（添加always块和头部已经加入了自动化脚本的功能）。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot; =============================================================</span></span><br><span class="line"><span class="string">&quot;</span> Decription: 用于编写Verilog的vimrc文件，<span class="keyword">for</span> windows</span><br><span class="line"><span class="string">&quot; Ver：1.1</span></span><br><span class="line"><span class="string">&quot;</span> Maintainer: Honk</span><br><span class="line"><span class="string">&quot; Date: 2020-2-19</span></span><br><span class="line"><span class="string">&quot;</span> =============================================================</span><br><span class="line"></span><br><span class="line"><span class="string">&quot; =============================================================</span></span><br><span class="line"><span class="string">&quot;</span>                        基础设置</span><br><span class="line"><span class="string">&quot; =============================================================</span></span><br><span class="line"><span class="string">set nocompatible                            &quot;</span>关闭vi兼容模式</span><br><span class="line"><span class="built_in">source</span> <span class="variable">$VIMRUNTIME</span>/vimrc_example.vim</span><br><span class="line"><span class="built_in">source</span> <span class="variable">$VIMRUNTIME</span>/mswin.vim</span><br><span class="line">behave mswin                                <span class="string">&quot;部分按键按照windows模式操作，解决crtl+c、ctrl+v、ctrl+a等windows下的快捷键  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span>Windows Gvim 默认配置</span><br><span class="line"><span class="built_in">set</span> diffexpr=MyDiff()</span><br><span class="line"><span class="keyword">function</span>! MyDiff()</span><br><span class="line">  <span class="built_in">let</span> opt = <span class="string">&#x27;-a --binary &#x27;</span></span><br><span class="line">  <span class="keyword">if</span> &amp;diffopt =~ <span class="string">&#x27;icase&#x27;</span> | <span class="built_in">let</span> opt = opt . <span class="string">&#x27;-i &#x27;</span> | endif</span><br><span class="line">  <span class="keyword">if</span> &amp;diffopt =~ <span class="string">&#x27;iwhite&#x27;</span> | <span class="built_in">let</span> opt = opt . <span class="string">&#x27;-b &#x27;</span> | endif</span><br><span class="line">  <span class="built_in">let</span> arg1 = v:fname_in</span><br><span class="line">  <span class="keyword">if</span> arg1 =~ <span class="string">&#x27; &#x27;</span> | <span class="built_in">let</span> arg1 = <span class="string">&#x27;&quot;&#x27;</span> . arg1 . <span class="string">&#x27;&quot;&#x27;</span> | endif</span><br><span class="line">  <span class="built_in">let</span> arg2 = v:fname_new</span><br><span class="line">  <span class="keyword">if</span> arg2 =~ <span class="string">&#x27; &#x27;</span> | <span class="built_in">let</span> arg2 = <span class="string">&#x27;&quot;&#x27;</span> . arg2 . <span class="string">&#x27;&quot;&#x27;</span> | endif</span><br><span class="line">  <span class="built_in">let</span> arg3 = v:fname_out</span><br><span class="line">  <span class="keyword">if</span> arg3 =~ <span class="string">&#x27; &#x27;</span> | <span class="built_in">let</span> arg3 = <span class="string">&#x27;&quot;&#x27;</span> . arg3 . <span class="string">&#x27;&quot;&#x27;</span> | endif</span><br><span class="line">  <span class="built_in">let</span> eq = <span class="string">&#x27;&#x27;</span></span><br><span class="line">  <span class="keyword">if</span> <span class="variable">$VIMRUNTIME</span> =~ <span class="string">&#x27; &#x27;</span></span><br><span class="line">    <span class="keyword">if</span> &amp;sh =~ <span class="string">&#x27;\&lt;cmd&#x27;</span></span><br><span class="line">      <span class="built_in">let</span> cmd = <span class="string">&#x27;&quot;&quot;&#x27;</span> . <span class="variable">$VIMRUNTIME</span> . <span class="string">&#x27;\diff&quot;&#x27;</span></span><br><span class="line">      <span class="built_in">let</span> eq = <span class="string">&#x27;&quot;&#x27;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      <span class="built_in">let</span> cmd = substitute(<span class="variable">$VIMRUNTIME</span>, <span class="string">&#x27; &#x27;</span>, <span class="string">&#x27;&quot; &#x27;</span>, <span class="string">&#x27;&#x27;</span>) . <span class="string">&#x27;\diff&quot;&#x27;</span></span><br><span class="line">    endif</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="built_in">let</span> cmd = <span class="variable">$VIMRUNTIME</span> . <span class="string">&#x27;\diff&#x27;</span></span><br><span class="line">  endif</span><br><span class="line">  silent execute <span class="string">&#x27;!&#x27;</span> . cmd . <span class="string">&#x27; &#x27;</span> . opt . arg1 . <span class="string">&#x27; &#x27;</span> . arg2 . <span class="string">&#x27; &gt; &#x27;</span> . arg3 . eq</span><br><span class="line">endfunction</span><br><span class="line"></span><br><span class="line"><span class="string">&quot; =============================================================</span></span><br><span class="line"><span class="string">&quot;</span>                        成对标签设置</span><br><span class="line"><span class="string">&quot; =============================================================</span></span><br><span class="line"><span class="string">source <span class="variable">$VIMRUNTIME</span>/macros/matchit.vim</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">let b:match_ignorecase=0</span></span><br><span class="line"><span class="string">let b:match_words=</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;begin\&gt;:\&lt;end\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;if\&gt;:\&lt;else\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;module\&gt;:\&lt;endmodule\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;class\&gt;:\&lt;endclass\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;program\&gt;:\&lt;endprogram\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;clocking\&gt;:\&lt;endclocking\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;property\&gt;:\&lt;endproperty\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;sequence\&gt;:\&lt;endsequence\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;package\&gt;:\&lt;endpackage\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;covergroup\&gt;:\&lt;endgroup\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;primitive\&gt;:\&lt;endprimitive\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;specify\&gt;:\&lt;endspecify\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;generate\&gt;:\&lt;endgenerate\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;interface\&gt;:\&lt;endinterface\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;function\&gt;:\&lt;endfunction\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;task\&gt;:\&lt;endtask\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;for\&gt;:\&lt;endfor\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;while\&gt;:\&lt;endwhile\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;specify\&gt;:\&lt;endspecify\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;generate\&gt;:\&lt;endgenerate\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;case\&gt;\|\&lt;casex\&gt;\|\&lt;casez\&gt;:\&lt;endcase\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;fork\&gt;:\&lt;join\&gt;\|\&lt;join_any\&gt;\|\&lt;join_none\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;`ifdef\&gt;:`else\&gt;:`endif\&gt;,&#x27;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span> =============================================================</span><br><span class="line"><span class="string">&quot;                           插件设置</span></span><br><span class="line"><span class="string">&quot;</span> =============================================================</span><br><span class="line"><span class="string">&quot; 设置运行路径，注意新建系统变量VIM指向Gvim的安装目录</span></span><br><span class="line"><span class="string">if(has(&#x27;win32&#x27;) || has(&#x27;win64&#x27;))</span></span><br><span class="line"><span class="string">    set rtp+=<span class="variable">$VIM</span>/vimfiles/bundle/Vundle.vim</span></span><br><span class="line"><span class="string">    let path=&#x27;<span class="variable">$VIM</span>/vimfiles/bundle&#x27;</span></span><br><span class="line"><span class="string">else</span></span><br><span class="line"><span class="string">    set rtp+=~/.vim/bundle/Vundle.vim</span></span><br><span class="line"><span class="string">    let path=&#x27;~/.vim/bundle&#x27;</span></span><br><span class="line"><span class="string">endif</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span> -----------------------插件列表------------------------------</span><br><span class="line">call vundle<span class="comment">#begin(&#x27;$VIM/vimfiles/bundle&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;使用Vundle管理插件</span></span><br><span class="line"><span class="string">Plugin &#x27;VundleVim/Vundle.vim&#x27;</span></span><br><span class="line"><span class="string">&quot;</span>多插件列表</span><br><span class="line">Plugin <span class="string">&#x27;AutoComplPop&#x27;</span>                   <span class="string">&quot;自动补全窗口弹出</span></span><br><span class="line"><span class="string">Plugin &#x27;vim-syntastic/syntastic&#x27;        &quot;</span>语法检查</span><br><span class="line"></span><br><span class="line">call vundle<span class="comment">#end()</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;允许插件  </span></span><br><span class="line"><span class="string">filetype plugin on</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span>语法检查插件配置</span><br><span class="line"><span class="built_in">set</span> statusline+=%<span class="comment">#warningmsg#</span></span><br><span class="line"><span class="built_in">set</span> statusline+=%&#123;SyntasticStatuslineFlag()&#125;</span><br><span class="line"><span class="built_in">set</span> statusline+=%*</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;显示消息气泡</span></span><br><span class="line"><span class="string">let g:syntastic_enable_balloons = 1</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span></span><br><span class="line"><span class="built_in">let</span> g:syntastic_always_populate_loc_list = 1</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;不自动进行代码检查</span></span><br><span class="line"><span class="string">let g:syntastic_auto_loc_list = 1</span></span><br><span class="line"><span class="string">let g:syntastic_check_on_open = 0</span></span><br><span class="line"><span class="string">let g:syntastic_check_on_wq = 0</span></span><br><span class="line"><span class="string">let g:syntastic_mode_map = &#123;</span></span><br><span class="line"><span class="string">        \ &quot;</span>mode<span class="string">&quot;: &quot;</span>passive<span class="string">&quot;,</span></span><br><span class="line"><span class="string">        \ &quot;</span>active_filetypes<span class="string">&quot;: [&quot;</span><span class="string">&quot;],</span></span><br><span class="line"><span class="string">        \ &quot;</span>passive_filetypes<span class="string">&quot;: [&quot;</span>verilog<span class="string">&quot;] &#125;</span></span><br><span class="line"><span class="string">        </span></span><br><span class="line"><span class="string">&quot;</span> 设置linter为iverilog,这里需要在系统变量PATH中添加iverilog的位置，这样shell才能识别iverilog指令</span><br><span class="line"><span class="built_in">let</span> g:syntastic_verilog_checkers = [<span class="string">&#x27;iverilog&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="string">&quot; 设置shell路径，注意这玩意不接受cmd.exe这种windows的shell，不设置就有问题(????????????????????????????????)</span></span><br><span class="line"><span class="string">&quot;</span> <span class="built_in">let</span> g:syntastic_shell = &amp;shell</span><br><span class="line"></span><br><span class="line">nnoremap check :SyntasticCheck&lt;CR&gt;</span><br><span class="line"></span><br><span class="line"><span class="string">&quot; =============================================================</span></span><br><span class="line"><span class="string">&quot;</span>                           界面设置</span><br><span class="line"><span class="string">&quot; =============================================================</span></span><br><span class="line"><span class="string">set guifont=courier_new:b:h16               &quot;</span>windows设定字体风格字号</span><br><span class="line"><span class="string">&quot;set guifont=Courier\ 100\ Pitch            &quot;</span>linux  设定字体风格字号</span><br><span class="line"><span class="built_in">set</span> number                                  <span class="string">&quot;显示行号</span></span><br><span class="line"><span class="string">set background=light                        &quot;</span>背景</span><br><span class="line">colorscheme desert                          <span class="string">&quot;设定配色方案</span></span><br><span class="line"><span class="string">syntax on                                   &quot;</span>语法高亮</span><br><span class="line">highlight Pmenu    guibg=darkgrey  guifg=white  <span class="string">&quot;修改自动补全窗口的配色</span></span><br><span class="line"><span class="string">highlight PmenuSel guibg=lightgrey guifg=white</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span> =============================================================</span><br><span class="line"><span class="string">&quot;                           tab键设置</span></span><br><span class="line"><span class="string">&quot;</span> =============================================================</span><br><span class="line"><span class="built_in">set</span> expandtab                               <span class="string">&quot;tab自动转换空格</span></span><br><span class="line"><span class="string">set softtabstop=4                           &quot;</span>使得按退格键时可以一次删掉 4 个空格</span><br><span class="line"><span class="built_in">set</span> tabstop=4                               <span class="string">&quot;设定tab长度为4</span></span><br><span class="line"><span class="string">set shiftwidth=4                            &quot;</span>设定 &lt;&lt; 和 &gt;&gt; 命令移动时的宽度为 4</span><br><span class="line"><span class="string">&quot;set autoindent                             &quot;</span>设定自动缩进</span><br><span class="line"></span><br><span class="line"><span class="string">&quot; =============================================================</span></span><br><span class="line"><span class="string">&quot;</span>                           其他设置</span><br><span class="line"><span class="string">&quot; =============================================================</span></span><br><span class="line"><span class="string">&quot;</span><span class="built_in">set</span> ignorecase                             <span class="string">&quot;搜索时忽略大小写</span></span><br><span class="line"><span class="string">&quot;</span><span class="built_in">set</span> ignorecase  smartcase                  <span class="string">&quot;搜索时忽略大小写，但在有一个或以上大写字母时仍保持对大小写敏感</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span> ----------Vim打开文件时，会出现另一个同名的备份文件----------</span><br><span class="line"><span class="built_in">set</span> nowritebackup                           <span class="string">&quot;写入期间不进行备份</span></span><br><span class="line"><span class="string">&quot;</span><span class="built_in">set</span> writebackup                            <span class="string">&quot;写入期间备份</span></span><br><span class="line"><span class="string">set nobackup                                &quot;</span>不保存备份</span><br><span class="line"><span class="string">&quot;set backup                                 &quot;</span>保存备份</span><br><span class="line"></span><br><span class="line"><span class="string">&quot; -------------------------------------------------------------</span></span><br><span class="line"><span class="string">set helplang=en                             &quot;</span>设置英文帮助</span><br><span class="line"><span class="string">&quot;set helplang=cn                            &quot;</span>设置中文帮助</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> directory=<span class="variable">$VIMHOME</span>\swp,.</span><br><span class="line"><span class="built_in">set</span> showcmd                                 <span class="string">&quot;显示在最右下角展示最近输入的命令</span></span><br><span class="line"><span class="string">set backspace=indent,eol,start              &quot;</span>不设定在插入状态下无法用退格键和delete键删除回车符</span><br><span class="line"><span class="built_in">set</span> foldclose=all                           <span class="string">&quot;设置为自动关闭折叠</span></span><br><span class="line"><span class="string">set fileformats=dos                         &quot;</span>消除文件格式不正确的出现^M</span><br><span class="line"><span class="string">&quot;set encoding=utf-8                         &quot;</span>解决中文乱码</span><br><span class="line"><span class="built_in">set</span> termencoding=utf-8 </span><br><span class="line"><span class="built_in">set</span> fileencodings=utf-8,chinese,latin-1 </span><br><span class="line"><span class="string">&quot; -------------------------------------------------------------</span></span><br><span class="line"><span class="string">if has(&quot;</span>win32<span class="string">&quot;) </span></span><br><span class="line"><span class="string">    set fileencoding=chinese </span></span><br><span class="line"><span class="string">else </span></span><br><span class="line"><span class="string">    set fileencoding=utf-8 </span></span><br><span class="line"><span class="string">endif </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span>language messages zh_CN.utf-8</span><br><span class="line"></span><br><span class="line"><span class="string">&quot; =============================================================</span></span><br><span class="line"><span class="string">&quot;</span>                           IDE设置</span><br><span class="line"><span class="string">&quot; =============================================================</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span> -------------------------文件窗口----------------------------</span><br><span class="line"><span class="string">&quot;creat tags</span></span><br><span class="line"><span class="string">set tags=tags;</span></span><br><span class="line"><span class="string">set autochdir</span></span><br><span class="line"><span class="string">&quot;</span>窗口管理</span><br><span class="line"><span class="built_in">let</span> Tlist_Show_One_File=1</span><br><span class="line"><span class="built_in">let</span> Tlist_Exit_OnlyWindow=1</span><br><span class="line"><span class="string">&quot;let g:winManagerWindowLayout=&#x27;FileExplorer|TagList&#x27;</span></span><br><span class="line"><span class="string">let g:winManagerWindowLayout=&#x27;FileExplorer&#x27;</span></span><br><span class="line"><span class="string">nmap vp :WMToggle&lt;cr&gt;</span></span><br><span class="line"><span class="string">&quot;</span>多文件编辑</span><br><span class="line"><span class="built_in">let</span> g:miniBufExplMapCTabSwitchBufs=1</span><br><span class="line"><span class="built_in">let</span> g:miniBufExplMapWindowsNavVim=1</span><br><span class="line"><span class="built_in">let</span> g:miniBufExplMapWindowNavArrows=1</span><br><span class="line"><span class="built_in">let</span> g:miniBufExplorerMoreThanOne=1</span><br><span class="line"><span class="string">&quot;grep</span></span><br><span class="line"><span class="string">nnoremap &lt;silent&gt; &lt;F10&gt; :Grep&lt;CR&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span> -------------------------编辑vimrc--------------------------</span><br><span class="line"><span class="string">&quot;按F4或输入ee编辑_vimrc</span></span><br><span class="line"><span class="string">:map &lt;F4&gt; :source <span class="variable">$VIMHOME</span>/_vimrc&lt;cr&gt;:w!&lt;cr&gt;</span></span><br><span class="line"><span class="string">:map ,ee :e <span class="variable">$VIMHOME</span>/_vimrc&lt;cr&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span> ------------------------------------------------------------</span><br><span class="line">cnoremap &lt;silent&gt; sp :sp&lt;cr&gt;</span><br><span class="line">cnoremap &lt;silent&gt; vp :vsplit&lt;cr&gt;</span><br><span class="line"><span class="string">&quot;:map gb :bd&lt;cr&gt;&lt;F4&gt;                        &quot;</span>键盘键的映射，将gb快捷键映射为:bd回车键。即新建一个vim窗口。</span><br><span class="line"></span><br><span class="line"><span class="string">&quot; =============================================================</span></span><br><span class="line"><span class="string">&quot;</span>                           自定义设置</span><br><span class="line"><span class="string">&quot; nore 表示非递归</span></span><br><span class="line"><span class="string">&quot;</span> n 表示在普通模式下生效</span><br><span class="line"><span class="string">&quot; v 表示在可视模式下生效</span></span><br><span class="line"><span class="string">&quot;</span> i 表示在插入模式下生效</span><br><span class="line"><span class="string">&quot; c 表示在命令行模式下生效</span></span><br><span class="line"><span class="string">&quot;</span> =============================================================</span><br><span class="line"><span class="string">&quot; -------------------------例化变量----------------------------</span></span><br><span class="line"><span class="string">&quot;</span>F2例化光标选中变量(命令模式下)</span><br><span class="line">:map &lt;F2&gt; ebmsd^:.s/^ *\([a-zA-Z][a-zA-Z0-9_]*\).*$/        .\1                        (\1                        ),/&lt;cr&gt;*^24ldw24ldw`sj</span><br><span class="line"></span><br><span class="line"><span class="string">&quot; -------------------------生成时间----------------------------</span></span><br><span class="line"><span class="string">&quot;</span>F2生成当前时间,格式为 2019/11/20 23:39:15(插入模式下)</span><br><span class="line"><span class="string">&quot;:imap &lt;F2&gt; &lt;C-R&gt;=strftime(&quot;</span>%c<span class="string">&quot;)&lt;CR&gt;</span></span><br><span class="line"><span class="string">&quot;</span>F2生成当前时间,格式为 2019/11/20(插入模式下)</span><br><span class="line">:imap &lt;F2&gt; &lt;C-R&gt;=strftime(<span class="string">&quot;%x&quot;</span>)&lt;CR&gt;</span><br><span class="line"></span><br><span class="line"><span class="string">&quot; ------------------------产生代码段---------------------------</span></span><br><span class="line"><span class="string">&quot;</span>添加reg/wire注释</span><br><span class="line">:map ;cr i&lt;cr&gt;&lt;space&gt;&lt;ESC&gt;0dwi//========================================================================\&lt;cr&gt;&lt;space&gt;&lt;ESC&gt;0dwi// =========== Define Parameter and Internal signals =========== &lt;cr&gt;&lt;space&gt;&lt;ESC&gt;0dwi//========================================================================/&lt;ESC&gt;</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;添加MAIN CODE注释</span></span><br><span class="line"><span class="string">:map ;cc i&lt;cr&gt;&lt;space&gt;&lt;ESC&gt;0dwi//=============================================================================&lt;cr&gt;&lt;space&gt;&lt;ESC&gt;0dwi//**************    Main Code   **************&lt;cr&gt;&lt;space&gt;&lt;ESC&gt;0dwi//=============================================================================&lt;ESC&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span> ----------------------端口/变量声明--------------------------</span><br><span class="line"><span class="string">&quot;选中单词声明为wire</span></span><br><span class="line"><span class="string">:map ;dw ebmsd^:.s/^ *\([a-zA-Z][a-zA-Z0-9_]*\).*$/wire \1;/&lt;cr&gt;&lt;F8&gt;e*N`sj</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span>选中单词声明为reg</span><br><span class="line">:map ;dr ebmsd^:.s/^ *\([a-zA-Z][a-zA-Z0-9_]*\).*$/reg \1;/&lt;cr&gt;&lt;F8&gt;e*N`sj</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;选中单词声明为input</span></span><br><span class="line"><span class="string">:map ;i ebmsd^:.s/^ *\([a-zA-Z][a-zA-Z0-9_]*\).*$/        input   \1,/&lt;cr&gt;&lt;F7&gt;e*N`sj</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span>选中单词声明为output wire</span><br><span class="line">:map ;ow ebmsd^:.s/^ *\([a-zA-Z][a-zA-Z0-9_]*\).*$/        output  wire    \1,/&lt;cr&gt;&lt;F7&gt;bb*N`sj</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;选中单词声明为output reg</span></span><br><span class="line"><span class="string">:map ;or ebmsd^:.s/^ *\([a-zA-Z][a-zA-Z0-9_]*\).*$/        output  reg     \1,/&lt;cr&gt;&lt;F7&gt;bb*N`sj</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span> ------------------------对齐格式---------------------------</span><br><span class="line"><span class="string">&quot;调整格式以便对齐（例化后的）</span></span><br><span class="line"><span class="string">:map &lt;F6&gt; :s/^ *\./        ./&lt;cr&gt;^f(i                              &lt;ESC&gt;f)i                               &lt;ESC&gt;^24ldw24ldwa  &lt;ESC&gt;hdwj</span></span><br><span class="line"><span class="string">&quot;</span>调整module定义中的变量，逗号和注释的位置</span><br><span class="line">:map &lt;F7&gt; 0f,bi                          &lt;ESC&gt;^24ldwf,i                                 &lt;ESC&gt;^48ldwa        &lt;ESC&gt;dw^j</span><br><span class="line"><span class="string">&quot;调整reg，wire所在行的变量，逗号和注释的位置</span></span><br><span class="line"><span class="string">:map &lt;F8&gt; 0f;bi                                &lt;ESC&gt;032ldwf;i                                    &lt;ESC&gt;064ldwa        &lt;ESC&gt;dw^j</span></span><br><span class="line"><span class="string">&quot;</span>调整module定义中的逗号和注释的位置（定义中不包含input、output时使用）</span><br><span class="line">:map &lt;F9&gt; 0f,i                                                    &lt;ESC&gt;056ldwa        &lt;ESC&gt;dw&lt;ESC&gt;^j</span><br><span class="line"></span><br><span class="line"><span class="string">&quot; --------------------------其他-----------------------------</span></span><br><span class="line"><span class="string">&quot;</span>:map &lt;F11&gt; :s/$/         /&lt;cr&gt;j</span><br><span class="line"><span class="string">&quot;:map &lt;F12&gt; :s/^\([^ ]*\)/NET &quot;</span>\1<span class="string">&quot;                           IOSTANDARD = LVTTL \| LOC = &quot;</span><span class="string">&quot;          ;/&lt;cr&gt;028ldw06l*Nj</span></span><br><span class="line"><span class="string">&quot;</span>:map ;f :s/\([0-9]\) *<span class="string">&quot;/\1&quot;</span>/g&lt;cr&gt;j</span><br><span class="line"><span class="string">&quot;:map &lt;F12&gt; :.w! F:\software_for_FPGA\eg.v&lt;cr&gt;:source F:\software_for_FPGA\eg.v&lt;cr&gt;</span></span><br><span class="line"><span class="string">&quot;</span>删除TAB</span><br><span class="line"><span class="string">&quot;:map ;t :%s/\t/    /g&lt;cr&gt;:w&lt;cr&gt;</span></span><br><span class="line"><span class="string">&quot;</span>产生U_DLY</span><br><span class="line"><span class="string">&quot;:imap &lt;F4&gt; &lt;space&gt;&lt;= #U_DLY </span></span><br><span class="line"><span class="string">&quot;</span>删除</span><br><span class="line">:map ;m :%s/</span><br><span class="line">:autocmd Bufread :<span class="built_in">source</span> <span class="variable">$VIMHOME</span>/_vimrc&lt;cr&gt;:w!&lt;cr&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;====restore your cursor position in a file over several editing sessions</span></span><br><span class="line"><span class="string">au BufReadPost * if line(&quot;</span><span class="string">&#x27;\&quot;&quot;) &gt; 0|if line(&quot;&#x27;</span>\&quot;<span class="string">&quot;) &lt;= line(&quot;</span>$<span class="string">&quot;)|exe(&quot;</span>norm <span class="string">&#x27;\&quot;&quot;)|else|exe &quot;norm $&quot;|endif|endif</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot; =============================================================</span></span><br><span class="line"><span class="string">&quot;                           RTLTree</span></span><br><span class="line"><span class="string">&quot; 暂未使用，暂时关闭</span></span><br><span class="line"><span class="string">&quot; =============================================================</span></span><br><span class="line"><span class="string">let t:RtlTreeVlogDefine = 0</span></span><br><span class="line"><span class="string">&quot;map &lt;F4&gt; :NERDTree&lt;CR&gt;</span></span><br><span class="line"><span class="string">&quot;map &lt;F5&gt; :RtlTree&lt;CR&gt;</span></span><br></pre></td></tr></table></figure>
<hr />
<h1 id="其他设置"><a class="markdownIt-Anchor" href="#其他设置"></a> 其他设置</h1>
<p>还有一些网上查到的相关配置文件，但是没有暂时还没有使用的，暂时列在下面作为备用。以后学习新东西需要用时方便参考。</p>
<h2 id="中文帮助"><a class="markdownIt-Anchor" href="#中文帮助"></a> 中文帮助</h2>
<p>Vim自带help文档可以切换为中文，参考链接如下：</p>
<p><a target="_blank" rel="noopener external nofollow noreferrer" href="http://vimcdoc.sourceforge.net/">Vim帮助文档首页</a></p>
<p><a target="_blank" rel="noopener external nofollow noreferrer" href="http://vimcdoc.sourceforge.net/doc/help.html">Vim中文帮助文档网页版</a></p>
<p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://sourceforge.net/projects/vimcdoc/">下载链接</a></p>
<p>下载完成，按步骤安装。安装完成后打开vim，输入：help ，这时vim中的help信息已经是中文了。 当然，可以通过下面命令来切换帮助语言。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> helplang=cn		<span class="string">&quot;设置中文帮助</span></span><br><span class="line"><span class="string">set helplang=en		&quot;</span>设置英文帮助</span><br></pre></td></tr></table></figure>
<hr />
<h2 id="参考"><a class="markdownIt-Anchor" href="#参考"></a> 参考</h2>
<p>部分发现了但是未用到的配置资料。</p>
<h3 id="提高verilog和uvm-testbench-coding效率的利器"><a class="markdownIt-Anchor" href="#提高verilog和uvm-testbench-coding效率的利器"></a> <a target="_blank" rel="noopener external nofollow noreferrer" href="http://bbs.eetop.cn/thread-304611-1-5.html">提高Verilog和UVM testbench coding效率的利器</a></h3>
<p>Verilog部分</p>
<ul>
<li>
<p>自动产生端口信号列表；</p>
</li>
<li>
<p>自动产生信号声明；</p>
</li>
<li>
<p>自动例化（能够识别例化之后连接的变更，优于emacs）</p>
</li>
<li>
<p>自动产生一些有规律的代码（类似generate语句） 用户定义参数化模版</p>
<p>UVM部分</p>
</li>
<li>
<p>自动产生interface</p>
</li>
<li>
<p>自动产生uvm_field_*</p>
</li>
<li>
<p>各种uvm类的模版</p>
</li>
</ul>
<h3 id="vtags-verdi-like-verilog-code-signal-trace-and-show-topo-script"><a class="markdownIt-Anchor" href="#vtags-verdi-like-verilog-code-signal-trace-and-show-topo-script"></a> <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.vim.org/scripts/script.php?script_id=5494">vtags : verdi like, verilog code signal trace and show topo script</a></h3>
<h1 id="总结"><a class="markdownIt-Anchor" href="#总结"></a> 总结</h1>
<p>为了在Windows下使用Gvim折腾了这么久，确实能得出一个结论：Linux开发比Windows方便很多。</p>
<hr />
<h1 id="最新v82版gvim修改2020-02-26-231525-创建"><a class="markdownIt-Anchor" href="#最新v82版gvim修改2020-02-26-231525-创建"></a> 最新v8.2版Gvim修改（2020-02-26 23:15:25 创建）</h1>
<p>继续之前Gvim搭建Verilog编程环境的基础上，修改了部分配置和插件，针对最新的Gvim-v8.2。</p>
<h2 id="vimrc更改"><a class="markdownIt-Anchor" href="#vimrc更改"></a> vimrc更改</h2>
<p>主要把代码段功能全部搬移到了automatic.vim文件里。另外对对齐操作进行了修改，使得input/output和reg/wire等的对齐也是一致的。另外autoinst的格式与对齐操作的格式的不一样，这个没去改，要用的时候直接重新对齐一下就好了。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot; =============================================================</span></span><br><span class="line"><span class="string">&quot;</span> Decription: 用于Verilog的vimrc文件，<span class="keyword">for</span> windows</span><br><span class="line"><span class="string">&quot; Maintainer: Honk</span></span><br><span class="line"><span class="string">&quot;</span> Date: 2020-2-26</span><br><span class="line"><span class="string">&quot; =============================================================</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span> =============================================================</span><br><span class="line"><span class="string">&quot;                        基础设置</span></span><br><span class="line"><span class="string">&quot;</span> =============================================================</span><br><span class="line"><span class="built_in">set</span> nocompatible                            <span class="string">&quot;关闭vi兼容模式</span></span><br><span class="line"><span class="string">source <span class="variable">$VIMRUNTIME</span>/vimrc_example.vim        &quot;</span> Vim with all enhancements</span><br><span class="line"><span class="built_in">source</span> <span class="variable">$VIMRUNTIME</span>/mswin.vim                <span class="string">&quot; Remap a few keys for Windows behavior 部分按键按照windows模式操作，解决crtl+c、ctrl+v、ctrl+a等windows下的快捷键</span></span><br><span class="line"><span class="string">behave mswin                                &quot;</span> Mouse behavior (the Windows way) 鼠标操作</span><br><span class="line"></span><br><span class="line"><span class="string">&quot; Use the internal diff if available.</span></span><br><span class="line"><span class="string">&quot;</span> Otherwise use the special <span class="string">&#x27;diffexpr&#x27;</span> <span class="keyword">for</span> Windows.</span><br><span class="line"><span class="keyword">if</span> &amp;diffopt !~<span class="comment"># &#x27;internal&#x27;</span></span><br><span class="line">  <span class="built_in">set</span> diffexpr=MyDiff()</span><br><span class="line">endif</span><br><span class="line"><span class="keyword">function</span> MyDiff()</span><br><span class="line">  <span class="built_in">let</span> opt = <span class="string">&#x27;-a --binary &#x27;</span></span><br><span class="line">  <span class="keyword">if</span> &amp;diffopt =~ <span class="string">&#x27;icase&#x27;</span> | <span class="built_in">let</span> opt = opt . <span class="string">&#x27;-i &#x27;</span> | endif</span><br><span class="line">  <span class="keyword">if</span> &amp;diffopt =~ <span class="string">&#x27;iwhite&#x27;</span> | <span class="built_in">let</span> opt = opt . <span class="string">&#x27;-b &#x27;</span> | endif</span><br><span class="line">  <span class="built_in">let</span> arg1 = v:fname_in</span><br><span class="line">  <span class="keyword">if</span> arg1 =~ <span class="string">&#x27; &#x27;</span> | <span class="built_in">let</span> arg1 = <span class="string">&#x27;&quot;&#x27;</span> . arg1 . <span class="string">&#x27;&quot;&#x27;</span> | endif</span><br><span class="line">  <span class="built_in">let</span> arg1 = substitute(arg1, <span class="string">&#x27;!&#x27;</span>, <span class="string">&#x27;\!&#x27;</span>, <span class="string">&#x27;g&#x27;</span>)</span><br><span class="line">  <span class="built_in">let</span> arg2 = v:fname_new</span><br><span class="line">  <span class="keyword">if</span> arg2 =~ <span class="string">&#x27; &#x27;</span> | <span class="built_in">let</span> arg2 = <span class="string">&#x27;&quot;&#x27;</span> . arg2 . <span class="string">&#x27;&quot;&#x27;</span> | endif</span><br><span class="line">  <span class="built_in">let</span> arg2 = substitute(arg2, <span class="string">&#x27;!&#x27;</span>, <span class="string">&#x27;\!&#x27;</span>, <span class="string">&#x27;g&#x27;</span>)</span><br><span class="line">  <span class="built_in">let</span> arg3 = v:fname_out</span><br><span class="line">  <span class="keyword">if</span> arg3 =~ <span class="string">&#x27; &#x27;</span> | <span class="built_in">let</span> arg3 = <span class="string">&#x27;&quot;&#x27;</span> . arg3 . <span class="string">&#x27;&quot;&#x27;</span> | endif</span><br><span class="line">  <span class="built_in">let</span> arg3 = substitute(arg3, <span class="string">&#x27;!&#x27;</span>, <span class="string">&#x27;\!&#x27;</span>, <span class="string">&#x27;g&#x27;</span>)</span><br><span class="line">  <span class="keyword">if</span> <span class="variable">$VIMRUNTIME</span> =~ <span class="string">&#x27; &#x27;</span></span><br><span class="line">    <span class="keyword">if</span> &amp;sh =~ <span class="string">&#x27;\&lt;cmd&#x27;</span></span><br><span class="line">      <span class="keyword">if</span> empty(&amp;shellxquote)</span><br><span class="line">        <span class="built_in">let</span> l:shxq_sav = <span class="string">&#x27;&#x27;</span></span><br><span class="line">        <span class="built_in">set</span> shellxquote&amp;</span><br><span class="line">      endif</span><br><span class="line">      <span class="built_in">let</span> cmd = <span class="string">&#x27;&quot;&#x27;</span> . <span class="variable">$VIMRUNTIME</span> . <span class="string">&#x27;\diff&quot;&#x27;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      <span class="built_in">let</span> cmd = substitute(<span class="variable">$VIMRUNTIME</span>, <span class="string">&#x27; &#x27;</span>, <span class="string">&#x27;&quot; &#x27;</span>, <span class="string">&#x27;&#x27;</span>) . <span class="string">&#x27;\diff&quot;&#x27;</span></span><br><span class="line">    endif</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="built_in">let</span> cmd = <span class="variable">$VIMRUNTIME</span> . <span class="string">&#x27;\diff&#x27;</span></span><br><span class="line">  endif</span><br><span class="line">  <span class="built_in">let</span> cmd = substitute(cmd, <span class="string">&#x27;!&#x27;</span>, <span class="string">&#x27;\!&#x27;</span>, <span class="string">&#x27;g&#x27;</span>)</span><br><span class="line">  silent execute <span class="string">&#x27;!&#x27;</span> . cmd . <span class="string">&#x27; &#x27;</span> . opt . arg1 . <span class="string">&#x27; &#x27;</span> . arg2 . <span class="string">&#x27; &gt; &#x27;</span> . arg3</span><br><span class="line">  <span class="keyword">if</span> exists(<span class="string">&#x27;l:shxq_sav&#x27;</span>)</span><br><span class="line">    <span class="built_in">let</span> &amp;shellxquote=l:shxq_sav</span><br><span class="line">  endif</span><br><span class="line">endfunction</span><br><span class="line"></span><br><span class="line"><span class="string">&quot; =============================================================</span></span><br><span class="line"><span class="string">&quot;</span>                          界面设置</span><br><span class="line"><span class="string">&quot; =============================================================</span></span><br><span class="line"><span class="string">set guifont=courier_new:b:h16               &quot;</span>windows设定字体风格字号</span><br><span class="line"><span class="built_in">set</span> number                                  <span class="string">&quot;显示行号</span></span><br><span class="line"><span class="string">set background=light                        &quot;</span>背景</span><br><span class="line">colorscheme desert                          <span class="string">&quot;设定配色方案</span></span><br><span class="line"><span class="string">syntax on                                   &quot;</span>语法高亮</span><br><span class="line">highlight Pmenu    guibg=darkgrey  guifg=white  <span class="string">&quot;修改自动补全窗口的配色</span></span><br><span class="line"><span class="string">highlight PmenuSel guibg=darkblue guifg=white</span></span><br><span class="line"><span class="string">set nofoldenable                            &quot;</span>关闭折叠</span><br><span class="line"></span><br><span class="line"><span class="string">&quot; =============================================================</span></span><br><span class="line"><span class="string">&quot;</span>                           tab键设置</span><br><span class="line"><span class="string">&quot; =============================================================</span></span><br><span class="line"><span class="string">set expandtab                               &quot;</span>tab自动转换空格</span><br><span class="line"><span class="built_in">set</span> softtabstop=4                           <span class="string">&quot;使得按退格键时可以一次删掉 4 个空格</span></span><br><span class="line"><span class="string">set tabstop=4                               &quot;</span>设定tab长度为4</span><br><span class="line"><span class="built_in">set</span> shiftwidth=4                            <span class="string">&quot;设定 &lt;&lt; 和 &gt;&gt; 命令移动时的宽度为 4</span></span><br><span class="line"><span class="string">&quot;</span><span class="built_in">set</span> autoindent                             <span class="string">&quot;设定自动缩进</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span> =============================================================</span><br><span class="line"><span class="string">&quot;                           其他设置</span></span><br><span class="line"><span class="string">&quot;</span> =============================================================</span><br><span class="line"><span class="string">&quot;set ignorecase                             &quot;</span>搜索时忽略大小写</span><br><span class="line"><span class="string">&quot;set ignorecase  smartcase                  &quot;</span>搜索时忽略大小写，但在有一个或以上大写字母时仍保持对大小写敏感</span><br><span class="line"></span><br><span class="line"><span class="string">&quot; ----------Vim打开文件时，会出现另一个同名的备份文件----------</span></span><br><span class="line"><span class="string">set nowritebackup                           &quot;</span>写入期间不进行备份</span><br><span class="line"><span class="string">&quot;set writebackup                            &quot;</span>写入期间备份</span><br><span class="line"><span class="built_in">set</span> nobackup                                <span class="string">&quot;不保存备份</span></span><br><span class="line"><span class="string">&quot;</span><span class="built_in">set</span> backup                                 <span class="string">&quot;保存备份</span></span><br><span class="line"><span class="string">set noundofile                              &quot;</span>不保存撤销文件</span><br><span class="line"></span><br><span class="line"><span class="string">&quot; -------------------------语言问题----------------------------</span></span><br><span class="line"><span class="string">set helplang=en                             &quot;</span>设置英文帮助</span><br><span class="line"><span class="string">&quot;set helplang=cn                            &quot;</span>设置中文帮助</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> directory=<span class="variable">$VIMHOME</span>\swp,.</span><br><span class="line"><span class="built_in">set</span> showcmd                                 <span class="string">&quot;显示在最右下角展示最近输入的命令</span></span><br><span class="line"><span class="string">set backspace=indent,eol,start              &quot;</span>不设定在插入状态下无法用退格键和delete键删除回车符</span><br><span class="line"><span class="built_in">set</span> foldclose=all                           <span class="string">&quot;设置为自动关闭折叠</span></span><br><span class="line"><span class="string">set fileformats=dos                         &quot;</span>消除文件格式不正确的出现^M</span><br><span class="line"><span class="string">&quot;set encoding=utf-8                         &quot;</span>解决中文乱码</span><br><span class="line"><span class="built_in">set</span> termencoding=utf-8 </span><br><span class="line"><span class="built_in">set</span> fileencodings=utf-8,chinese,latin-1 </span><br><span class="line"><span class="string">&quot; -------------------------------------------------------------</span></span><br><span class="line"><span class="string">if has(&quot;</span>win32<span class="string">&quot;) </span></span><br><span class="line"><span class="string">    set fileencoding=chinese </span></span><br><span class="line"><span class="string">else </span></span><br><span class="line"><span class="string">    set fileencoding=utf-8 </span></span><br><span class="line"><span class="string">endif </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span> =============================================================</span><br><span class="line"><span class="string">&quot;                           插件设置</span></span><br><span class="line"><span class="string">&quot;</span> =============================================================</span><br><span class="line"><span class="string">&quot; 设置运行路径，注意新建系统变量VIM指向Gvim的安装目录</span></span><br><span class="line"><span class="string">if(has(&#x27;win32&#x27;) || has(&#x27;win64&#x27;))</span></span><br><span class="line"><span class="string">    set rtp+=<span class="variable">$VIM</span>/vimfiles/bundle/Vundle.vim</span></span><br><span class="line"><span class="string">    let path=&#x27;<span class="variable">$VIM</span>/vimfiles/bundle&#x27;</span></span><br><span class="line"><span class="string">else</span></span><br><span class="line"><span class="string">    set rtp+=~/.vim/bundle/Vundle.vim</span></span><br><span class="line"><span class="string">    let path=&#x27;~/.vim/bundle&#x27;</span></span><br><span class="line"><span class="string">endif</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span> -----------------------插件列表------------------------------</span><br><span class="line">call vundle<span class="comment">#begin(&#x27;$VIM/vimfiles/bundle&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;使用Vundle管理插件</span></span><br><span class="line"><span class="string">Plugin &#x27;VundleVim/Vundle.vim&#x27;</span></span><br><span class="line"><span class="string">&quot;</span>多插件列表</span><br><span class="line">Plugin <span class="string">&#x27;AutoComplPop&#x27;</span>                   <span class="string">&quot;自动补全窗口弹出</span></span><br><span class="line"><span class="string">Plugin &#x27;preservim/nerdtree&#x27;             &quot;</span>显示当前路径目录树结构</span><br><span class="line"><span class="string">&quot;Plugin &#x27;dense-analysis/ale&#x27;             &quot;</span>ALE-Asynchronous Lint Engine语法检查</span><br><span class="line">Plugin <span class="string">&#x27;vim-syntastic/syntastic&#x27;</span>        <span class="string">&quot;syntastic语法检查</span></span><br><span class="line"><span class="string">Plugin &#x27;vim-airline/vim-airline&#x27;        &quot;</span>状态栏美化</span><br><span class="line"></span><br><span class="line">call vundle<span class="comment">#end()</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;总是打开Location List（相当于QuickFix）窗口，如果你发现syntastic因为与其他插件冲突而经常崩溃，将下面选项置0</span></span><br><span class="line"><span class="string">let g:syntastic_always_populate_loc_list = 1</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span>不自动进行代码检查</span><br><span class="line"><span class="built_in">let</span> g:syntastic_auto_loc_list = 1</span><br><span class="line"><span class="built_in">let</span> g:syntastic_check_on_open = 0</span><br><span class="line"><span class="built_in">let</span> g:syntastic_check_on_wq = 0</span><br><span class="line"><span class="built_in">let</span> g:syntastic_mode_map = &#123;</span><br><span class="line">        \ <span class="string">&quot;mode&quot;</span>: <span class="string">&quot;passive&quot;</span>,</span><br><span class="line">        \ <span class="string">&quot;active_filetypes&quot;</span>: [<span class="string">&quot;&quot;</span>],</span><br><span class="line">        \ <span class="string">&quot;passive_filetypes&quot;</span>: [<span class="string">&quot;verilog&quot;</span>] &#125;</span><br><span class="line">        </span><br><span class="line"><span class="string">&quot; 设置linter为iverilog</span></span><br><span class="line"><span class="string">let g:syntastic_verilog_checkers = [&#x27;iverilog&#x27;]&quot;</span>允许插件 </span><br><span class="line"></span><br><span class="line">filetype plugin on</span><br><span class="line"></span><br><span class="line"><span class="string">&quot; =============================================================</span></span><br><span class="line"><span class="string">&quot;</span>                        成对标签设置</span><br><span class="line"><span class="string">&quot; =============================================================</span></span><br><span class="line"><span class="string">source <span class="variable">$VIMRUNTIME</span>/macros/matchit.vim</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">let b:match_ignorecase=0</span></span><br><span class="line"><span class="string">let b:match_words=</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;begin\&gt;:\&lt;end\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;if\&gt;:\&lt;else\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;module\&gt;:\&lt;endmodule\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;class\&gt;:\&lt;endclass\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;program\&gt;:\&lt;endprogram\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;clocking\&gt;:\&lt;endclocking\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;property\&gt;:\&lt;endproperty\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;sequence\&gt;:\&lt;endsequence\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;package\&gt;:\&lt;endpackage\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;covergroup\&gt;:\&lt;endgroup\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;primitive\&gt;:\&lt;endprimitive\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;specify\&gt;:\&lt;endspecify\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;generate\&gt;:\&lt;endgenerate\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;interface\&gt;:\&lt;endinterface\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;function\&gt;:\&lt;endfunction\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;task\&gt;:\&lt;endtask\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;for\&gt;:\&lt;endfor\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;while\&gt;:\&lt;endwhile\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;specify\&gt;:\&lt;endspecify\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;generate\&gt;:\&lt;endgenerate\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;case\&gt;\|\&lt;casex\&gt;\|\&lt;casez\&gt;:\&lt;endcase\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;\&lt;fork\&gt;:\&lt;join\&gt;\|\&lt;join_any\&gt;\|\&lt;join_none\&gt;,&#x27; .</span></span><br><span class="line"><span class="string">  \ &#x27;`ifdef\&gt;:`else\&gt;:`endif\&gt;,&#x27;</span></span><br><span class="line"><span class="string">  </span></span><br><span class="line"><span class="string">&quot;</span> =============================================================</span><br><span class="line"><span class="string">&quot;                        窗口管理设置</span></span><br><span class="line"><span class="string">&quot;</span> =============================================================</span><br><span class="line"><span class="string">&quot;creat tags</span></span><br><span class="line"><span class="string">set tags=tags;</span></span><br><span class="line"><span class="string">set autochdir</span></span><br><span class="line"><span class="string">&quot;</span>窗口管理</span><br><span class="line"><span class="built_in">let</span> Tlist_Show_One_File=1</span><br><span class="line"><span class="built_in">let</span> Tlist_Exit_OnlyWindow=1</span><br><span class="line"><span class="string">&quot;let g:winManagerWindowLayout=&#x27;FileExplorer|TagList&#x27;</span></span><br><span class="line"><span class="string">let g:winManagerWindowLayout=&#x27;FileExplorer&#x27;</span></span><br><span class="line"><span class="string">nmap vp :WMToggle&lt;cr&gt;</span></span><br><span class="line"><span class="string">&quot;</span>多文件编辑</span><br><span class="line"><span class="built_in">let</span> g:miniBufExplMapCTabSwitchBufs=1</span><br><span class="line"><span class="built_in">let</span> g:miniBufExplMapWindowsNavVim=1</span><br><span class="line"><span class="built_in">let</span> g:miniBufExplMapWindowNavArrows=1</span><br><span class="line"><span class="built_in">let</span> g:miniBufExplorerMoreThanOne=1</span><br><span class="line"><span class="string">&quot;grep</span></span><br><span class="line"><span class="string">nnoremap &lt;silent&gt; &lt;F10&gt; :Grep&lt;CR&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span> =============================================================</span><br><span class="line"><span class="string">&quot;                           自定义设置</span></span><br><span class="line"><span class="string">&quot;</span> nore 表示非递归</span><br><span class="line"><span class="string">&quot; n 表示在普通模式下生效</span></span><br><span class="line"><span class="string">&quot;</span> v 表示在可视模式下生效</span><br><span class="line"><span class="string">&quot; i 表示在插入模式下生效</span></span><br><span class="line"><span class="string">&quot;</span> c 表示在命令行模式下生效</span><br><span class="line"><span class="string">&quot; =============================================================</span></span><br><span class="line"><span class="string">&quot;</span> -------------------------编辑vimrc--------------------------</span><br><span class="line"><span class="string">&quot;按F4或输入ee编辑_vimrc</span></span><br><span class="line"><span class="string">:map &lt;F4&gt; :source <span class="variable">$VIMHOME</span>/_vimrc&lt;cr&gt;:w!&lt;cr&gt;</span></span><br><span class="line"><span class="string">:map ,ee :e <span class="variable">$VIMHOME</span>/_vimrc&lt;cr&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span> ------------------------------------------------------------</span><br><span class="line">cnoremap &lt;silent&gt; sp :sp&lt;cr&gt;</span><br><span class="line">cnoremap &lt;silent&gt; vp :vsplit&lt;cr&gt;</span><br><span class="line"><span class="string">&quot;:map gb :bd&lt;cr&gt;&lt;F4&gt;                        &quot;</span>键盘键的映射，将gb快捷键映射为:bd回车键。即新建一个vim窗口。</span><br><span class="line"></span><br><span class="line"><span class="string">&quot; -------------------------例化变量----------------------------</span></span><br><span class="line"><span class="string">&quot;</span>F2例化光标选中变量(命令模式下)</span><br><span class="line">:map &lt;F2&gt; ebmsd^:.s/^ *\([a-zA-Z][a-zA-Z0-9_]*\).*$/        .\1                        (\1                        ),/&lt;cr&gt;*^24ldw24ldw`sj</span><br><span class="line"></span><br><span class="line"><span class="string">&quot; ----------------------端口/变量声明--------------------------</span></span><br><span class="line"><span class="string">&quot;</span>选中单词声明为wire</span><br><span class="line">:map ;dw ebmsd^:.s/^ *\([a-zA-Z][a-zA-Z0-9_]*\).*$/    wire \1;/&lt;cr&gt;&lt;F8&gt;e*N`sj</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;选中单词声明为reg</span></span><br><span class="line"><span class="string">:map ;dr ebmsd^:.s/^ *\([a-zA-Z][a-zA-Z0-9_]*\).*$/    reg \1;/&lt;cr&gt;&lt;F8&gt;e*N`sj</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span>选中单词声明为input</span><br><span class="line">:map ;i ebmsd^:.s/^ *\([a-zA-Z][a-zA-Z0-9_]*\).*$/    input   \1,/&lt;cr&gt;&lt;F7&gt;e*N`sj</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;选中单词声明为output wire</span></span><br><span class="line"><span class="string">:map ;ow ebmsd^:.s/^ *\([a-zA-Z][a-zA-Z0-9_]*\).*$/    output  wire    \1,/&lt;cr&gt;&lt;F7&gt;bb*N`sj</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span>选中单词声明为output reg</span><br><span class="line">:map ;or ebmsd^:.s/^ *\([a-zA-Z][a-zA-Z0-9_]*\).*$/    output  reg     \1,/&lt;cr&gt;&lt;F7&gt;bb*N`sj</span><br><span class="line"></span><br><span class="line"><span class="string">&quot; ------------------------对齐格式---------------------------</span></span><br><span class="line"><span class="string">&quot;</span>调整格式以便对齐（例化后的）</span><br><span class="line">:map &lt;F6&gt; :s/^ *\./        ./&lt;cr&gt;^f(i                              &lt;ESC&gt;f)i                               &lt;ESC&gt;^24ldw24ldwa  &lt;ESC&gt;hdwj</span><br><span class="line"><span class="string">&quot;调整module定义中的变量，逗号和注释的位置</span></span><br><span class="line"><span class="string">:map &lt;F7&gt; 0f,bi                          &lt;ESC&gt;^24ldwf,i                                 &lt;ESC&gt;^48ldwa        &lt;ESC&gt;dw^j</span></span><br><span class="line"><span class="string">&quot;</span>调整reg，wire所在行的变量，逗号和注释的位置</span><br><span class="line">:map &lt;F8&gt; 0f;bi                          &lt;ESC&gt;028ldwf;i                                 &lt;ESC&gt;052ldwa        &lt;ESC&gt;dw^j</span><br><span class="line"><span class="string">&quot;调整module定义中的逗号和注释的位置（定义中不包含input、output时使用）</span></span><br><span class="line"><span class="string">:map &lt;F9&gt; 0f,i                                                    &lt;ESC&gt;056ldwa        &lt;ESC&gt;dw&lt;ESC&gt;^j</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span> -------------------------生成时间----------------------------</span><br><span class="line"><span class="string">&quot;F2生成当前时间,格式为 2019/11/20 23:39:15(插入模式下)</span></span><br><span class="line"><span class="string">&quot;</span>:imap &lt;F2&gt; &lt;C-R&gt;=strftime(<span class="string">&quot;%c&quot;</span>)&lt;CR&gt;</span><br><span class="line"><span class="string">&quot;F2生成当前时间,格式为 2019/11/20(插入模式下)</span></span><br><span class="line"><span class="string">:imap &lt;F2&gt; &lt;C-R&gt;=strftime(&quot;</span>%x<span class="string">&quot;)&lt;CR&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span> -------------------------其他设置----------------------------</span><br><span class="line"><span class="string">&quot;删除TAB </span></span><br><span class="line"><span class="string">&quot;</span>:map ;t :%s/\t/    /g&lt;cr&gt;:w&lt;cr&gt;</span><br><span class="line"><span class="string">&quot;TAB 转化为空格</span></span><br><span class="line"><span class="string">:map ;t :retab&lt;cr&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;</span>产生U_DLY</span><br><span class="line"><span class="string">&quot;:imap &lt;F4&gt; &lt;space&gt;&lt;= #U_DLY</span></span><br><span class="line"><span class="string">&quot;</span>删除</span><br><span class="line">:map ;m :%s/</span><br><span class="line">:autocmd Bufread :<span class="built_in">source</span> <span class="variable">$VIMHOME</span>/_vimrc&lt;cr&gt;:w!&lt;cr&gt;</span><br><span class="line"><span class="string">&quot;====restore your cursor position in a file over several editing sessions</span></span><br><span class="line"><span class="string">au BufReadPost * if line(&quot;</span><span class="string">&#x27;\&quot;&quot;) &gt; 0|if line(&quot;&#x27;</span>\&quot;<span class="string">&quot;) &lt;= line(&quot;</span>$<span class="string">&quot;)|exe(&quot;</span>norm <span class="string">&#x27;\&quot;&quot;)|else|exe &quot;norm $&quot;|endif|endif</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">let t:RtlTreeVlogDefine = 0</span></span><br><span class="line"><span class="string">&quot;map &lt;F4&gt; :NERDTree&lt;CR&gt;</span></span><br><span class="line"><span class="string">&quot;map &lt;F5&gt; :RtlTree&lt;CR&gt;</span></span><br></pre></td></tr></table></figure>
<hr />
<h2 id="脚本更改"><a class="markdownIt-Anchor" href="#脚本更改"></a> 脚本更改</h2>
<p>针对automatic.vim做了部分修改:</p>
<ol>
<li>添加一键生成三段式状态机（快捷键fsm）；</li>
<li>头文件生成快捷键由hd改为header（鉴于hd可能误操作）；</li>
<li>删掉了check快捷键（使用:SyntasticCheck命令直接检查，主要是点击后用TAB也很方便，不太需要map这个快捷键）；</li>
<li>生成主代码和wire/reg部分注释的快捷键由vimrc搬移到脚本中（快捷键;cr和;cc）。</li>
</ol>
<hr />
<h2 id="插件更改202036更新"><a class="markdownIt-Anchor" href="#插件更改202036更新"></a> 插件更改（2020.3.6更新）</h2>
<p>原计划更改代码检查工具从Syntastic变为异步的ALE，但使用Vundle安装ALE并配置之后，可以在ALEInfo看到Liner报出来的故障信息（且是多次执行的结果，表示其在异步调用Linter，且调用成功），但在Vim界面上没有任何标识，原因未知，进入iverilog.vim中echom其匹配error/warning/syntaxerr消息的那个函数结果好像是空的，不知道是脚本哪里有问题。在google和百度搜索了半天后无解，遂放弃。但在安装ALE中顺便安装了NERDTree和airline-vim，后来也没有再卸载。</p>
<ul>
<li>
<p>NERDTree：文件结构树</p>
</li>
<li>
<p>airline-vim：状态栏美化</p>
</li>
</ul>
<p>安装过程依旧使用Vundle插件管理。</p>
<ul>
<li>VisIncr（新添加）：列操作，添加递增递减一列数字</li>
</ul>
<hr />
<h2 id="部分计划"><a class="markdownIt-Anchor" href="#部分计划"></a> 部分计划</h2>
<ul>
<li>为了学习脚本中的ctag和调用RTLTree，以后找机会学一下Perl</li>
<li>部分功能问题在windows下没有解决方案，但是linux下有，可以一试。</li>
</ul>
<h2 id="部分有用链接"><a class="markdownIt-Anchor" href="#部分有用链接"></a> 部分有用链接</h2>
<p>学习过程中还搜索到了一些相关的可用功能，因为跟现有功能重复，所以没有使用。在此记录留作备份。</p>
<p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://mp.weixin.qq.com/s/R-dzQ6xXnQ5YqUZTGPVO_A">在Vim中集成emacs下的verilog-mode功能</a></p>
<p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://zhuanlan.zhihu.com/p/84541476?from_voters_page=true">这才是用Gvim写Verilog的正确方式</a></p>
<p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/vhda/verilog_systemverilog.vim">Vim Syntax Plugin for Verilog and SystemVerilog</a></p>
<p><a target="_blank" rel="noopener external nofollow noreferrer" href="http://bbs.eetop.cn/forum.php?mod=viewthread&amp;tid=344036">自己写的一个verilog模块例化自动生成脚本，希望大家能试用，多提bug啊</a></p>
<p>最后贴一张操作图吧。</p>
<p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/WangHeng93/Pic@latest/vimscreen.jpg" alt="操作图" /></p>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined" rel="external nofollow noreferrer">HonkW</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://honk.wang/posts/Gvim-Verilog-env/">https://honk.wang/posts/Gvim-Verilog-env/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://honk.wang" target="_blank">Doraemon</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/verilog/">verilog</a><a class="post-meta__tags" href="/tags/gvim/">gvim</a><a class="post-meta__tags" href="/tags/vim/">vim</a></div><div class="post_share"><div class="addtoany"><div class="a2a_kit a2a_kit_size_32 a2a_default_style"><a class="a2a_button_facebook"></a><a class="a2a_button_twitter"></a><a class="a2a_button_wechat"></a><a class="a2a_button_sina_weibo"></a><a class="a2a_button_facebook_messenger"></a><a class="a2a_button_email"></a><a class="a2a_button_copy_link"></a><a class="a2a_dd" target="_blank" rel="noopener external nofollow noreferrer" href="https://www.addtoany.com/share"></a></div></div><script async="async" src="https://static.addtoany.com/menu/page.js"></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/weixinpay.jpg" target="_blank"><img class="post-qr-code-img" data-lazy-src="/img/weixinpay.jpg" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" data-lazy-src="/img/alipay.jpg" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></div></div><div id="wpac-rating"></div><script>wpac_init = window.wpac_init || [];
wpac_init.push({widget: 'Rating', id: 24934});
(function() {
  if ('WIDGETPACK_LOADED' in window) return;
  WIDGETPACK_LOADED = true;
  var mc = document.createElement('script');
  mc.type = 'text/javascript';
  mc.async = true;
  mc.src = '//embed.widgetpack.com/widget.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(mc, s.nextSibling);
})();</script><style>#wpac-rating {
  margin-top: 20px;
  text-align: center;
}</style><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/Gvim-Verilog-HB/"><img class="prev-cover" data-lazy-src="https://cdn.jsdelivr.net/gh/WangHeng93/Pic@latest/cover/vimscreen.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Gvim-Verilog-Handbook</div></div></a></div><div class="next-post pull-right"><a href="/posts/hexo-butterfly/"><img class="next-cover" data-lazy-src="https://cdn.jsdelivr.net/gh/WangHeng93/Pic@master/cover/hexo-butterfly.png" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">hexo&amp;butterfly</div></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/posts/Gvim-Verilog-Final/" title="Gvim-Verilog-Final"><img class="relatedPosts_cover" data-lazy-src="https://cdn.jsdelivr.net/gh/WangHeng93/Pic@latest/cover/newvimscreen.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="far fa-calendar-alt fa-fw"></i> 2020-05-13</div><div class="relatedPosts_title">Gvim-Verilog-Final</div></div></a></div><div class="relatedPosts_item"><a href="/posts/Gvim-Verilog-HB/" title="Gvim-Verilog-Handbook"><img class="relatedPosts_cover" data-lazy-src="https://cdn.jsdelivr.net/gh/WangHeng93/Pic@latest/cover/vimscreen.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="far fa-calendar-alt fa-fw"></i> 2020-03-06</div><div class="relatedPosts_title">Gvim-Verilog-Handbook</div></div></a></div><div class="relatedPosts_item"><a href="/posts/Vim-Adventure/" title="Vim-Adventure"><img class="relatedPosts_cover" data-lazy-src="https://cdn.jsdelivr.net/gh/WangHeng93/Pic@latest/cover/vim-adventure.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="far fa-calendar-alt fa-fw"></i> 2020-05-30</div><div class="relatedPosts_title">Vim-Adventure</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2020 JaneR <a href="/love"><i id="heartbeat" class="fa fas fa-heartbeat"></i></a> HonkW</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text"><div id="running-time"></div><a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io/"><img src="/img/hexo.svg" hspace="10" vertical-align="middle" alt="Hexo-Ver 5.0.0"/></a><a target="_blank" rel="noopener external nofollow noreferrer" href="https://demo.jerryc.me/"><img src="/img/butterfly.svg" hspace="10" vertical-align="middle" alt="Butterfly-Ver 3.0.0"/></a><br><a target="_blank" rel="noopener external nofollow noreferrer" href="https://cloud.tencent.com/"><img src="/img/tencent.svg" hspace="10" vertical-align="middle" alt="DNS by Tencent"/></a><a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.jsdelivr.com/"><img src="/img/jsdelivr.svg" hspace="10" vertical-align="middle" alt="CDN by jsDelivr"/></a><a target="_blank" rel="noopener external nofollow noreferrer" href="https://tongji.baidu.com/web/welcome/ico?s=8b3482f535f0f3103f3e7b518f60ee12"><img src="/img/baidu.svg" hspace="10" vertical-align="middle" alt="Analytics by Baidu"/></a><br><a target="_blank" rel="noopener external nofollow noreferrer" href="https://vercel.com/"><img src="/img/vercel.svg" hspace="10" vertical-align="middle" alt="Deploy(Domestic) by Vercel"/></a><a target="_blank" rel="noopener external nofollow noreferrer" href="https://pages.github.com/"><img src="/img/github.svg" hspace="10" vertical-align="middle" alt="Deploy(Abroad) by Github"/></a><script>setInterval(()=>{let create_time=Math.round(new Date(Date.UTC(2019,10,10,14,20,45)).getTime()/1000);let timestamp=Math.round((new Date().getTime()+8*60*60*1000)/1000);let second=timestamp-create_time;let time=new Array(0,0,0,0,0);if(second>=365*24*3600){time[0]=parseInt(second/(365*24*3600));second%=365*24*3600;}if(second>=24*3600){time[1]=parseInt(second/(24*3600));second%=24*3600;}if(second>=3600){time[2]=parseInt(second/3600);second%=3600;}if(second>=60){time[3]=parseInt(second/60);second%=60;}if(second>0){time[4]=second;}currentTimeHtml='运行 '+time[0]+' 年 '+time[1]+' 天 '+time[2]+' 时 '+time[3]+' 分 '+time[4]+' 秒';document.getElementById("running-time").innerHTML=currentTimeHtml;},1000);</script></div></div></footer></div><section id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="font_plus" type="button" title="放大字体"><i class="fas fa-plus"></i></button><button id="font_minus" type="button" title="缩小字体"><i class="fas fa-minus"></i></button><button id="translateLink" type="button" title="简繁转换">简</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></section><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module" defer></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js" async></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function loadValine () {
  function initValine () {
  
    let friends = 'f8c7afb61aea2c203160e90cd3b3a26a,6400426d4d741194a27f6eb6d03f259e,8479ce3f532d8dedd851dc2259fbb3a8,4cfdb76a1d0abb73512452a43ad7fe92,43f423034161c1234e49b8b8a075d8e0,5ee7178858803788421f49802e1c9c73,0007991f99268c04f1aa4cdd9bea93b4,85529577bc393156eb897a74f8bd5182,92dceb625af1ad4d34394a7857ed7702,abd7f9d004eef4ee9b85c26bef4a5a94,00b6017552f79cce0e8d634fdfb77d05'.split(',')
    let lover = 'c4421111c4dfc66aec9bc6b06ce41157'.split(',')
    let master = 'b5b1f0b663989b1f75b9a167f8d1450a,aadb40af2f150de622965ab74453633c'.split(',')
    let tagMeta = '博主,Lover,伙伴,访客'.split(',')
    window.valine = new Valine({
      el: '#vcomment',
      appId: 'SPdUp8MmHsbDQ8DcOcbRc63T-MdYXbMMI',
      appKey: 'hUNSky7JaHy5zb0Jab7i8qsj',
      placeholder: '留下邮箱即可回复，作者回复后能收到邮件。点个赞评论一下吧!',
      avatar: 'monsterid',
      meta: 'nick,mail,link'.split(','),
      pageSize: '10',
      lang: 'zh-cn',
      recordIP: false,
      serverURLs: '',
      emojiCDN: '',
      emojiMaps: "",
      enableQQ: true,
      master: master,
      lover: lover,
      friends: friends,
      tagMeta: tagMeta,
      path: window.location.pathname,
    });
    if ('nick,mail') { valine.config.requiredFields= 'nick,mail'.split(',') }
  }

  if (typeof Valine === 'function') initValine() 
  else $.getScript('https://cdn.jsdelivr.net/gh/WangHeng93/cdn/valine.min.js', initValine)
}

if ('Valine' === 'Valine' || !false) {
  if (false) loadComment(document.querySelector('#vcomment'),loadValine)
  else setTimeout(() => loadValine(), 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="https://cdn.jsdelivr.net/gh/WangHeng93/cdn@latest/back-ground/background.js"></script><script src="/js/third-party/activate-power-mode.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
document.body.addEventListener('input', POWERMODE);
</script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/wanko.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"log":false});</script></body></html>